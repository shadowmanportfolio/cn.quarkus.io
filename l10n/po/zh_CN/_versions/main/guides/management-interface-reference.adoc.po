# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-03-17 02:15+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_versions/main/guides/management-interface-reference.adoc:6
#, no-wrap
msgid "Management interface reference"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:16
msgid "By default, Quarkus exposes the _management_ endpoints under `/q` on the main HTTP server.  The same HTTP server provides the application endpoints and the management endpoints."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:19
msgid "This document presents how you can use a separate HTTP server (bound to a different network interface and port) for the management endpoints.  It avoids exposing these endpoints on the main server and, therefore, prevents undesired accesses."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:20
#, no-wrap
msgid "Enabling the management interface"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:23
msgid "To enable the management interface, use the following **build-time** property:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:27
#, no-wrap
msgid "quarkus.management.enabled=true\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:31
msgid "By default, management endpoints will be exposed on: `http://0.0.0.0:9000/q`.  For example, `http://0.0.0.0:9000/q/health/ready` for the readiness probe."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:33
#: upstream/_versions/main/guides/management-interface-reference.adoc:90
msgid "SmallRye Health Checks, SmallRye Metrics, and Micrometer endpoints will be declared as management endpoints when the management interface is enabled."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:34
#, no-wrap
msgid "Configure the host, port and scheme"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:38
msgid "By default, the management interface is exposed on the interface: `0.0.0.0` (all interfaces) and on the port `9000` (`9001` in test mode).  It does not use TLS (`https`) by default."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:40
msgid "You can configure the host, ports, and TLS certificates using the following properties:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:42
msgid "`quarkus.management.host` - the interface / host"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:43
msgid "`quarkus.management.port` - the port"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:44
msgid "`quarkus.management.test-port` - the port to use in test mode"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:45
msgid "`quarkus.management.ssl` - the TLS configuration, xref:http-reference#ssl[same as for the main HTTP server]."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:47
msgid "Here is a configuration example exposing the management interface on _https://localhost:9002_:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:55
#, no-wrap
msgid ""
"quarkus.management.enabled=true\n"
"quarkus.management.host=localhost\n"
"quarkus.management.port=9002\n"
"quarkus.management.ssl.certificate.key-store-file=server-keystore.jks\n"
"quarkus.management.ssl.certificate.key-store-password=secret\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:59
msgid "Unlike the main HTTP server, the management interface does not handle _http_ and _https_ at the same time.  If _https_ is configured, plain HTTP requests will be rejected."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:60
#, no-wrap
msgid "Configure the root path"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:66
msgid "Management endpoints are configured differently than standard HTTP endpoints.  They use a unique root path, which is `/q` by default.  This management root path can be configured using the `quarkus.management.root-path property`.  For example, if you want to expose the management endpoints under `/management` use:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:71
#, no-wrap
msgid ""
"quarkus.management.enabled=true\n"
"quarkus.management.root-path=/management\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:74
msgid "The mounting rules of the management endpoints slightly differ from the ones used when using the main HTTP server:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:77
msgid "Management endpoints configured using a _relative_ path (not starting with `/`) will be served from the configured root path.  For example, if the endpoint path is `health` and the root path is `management`, the resulting path is `/management/health`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:79
msgid "Management endpoints configured using an _absolute_ path (starting with `/`) will be served from the root.  For example, if the endpoint path is `/health`, the resulting path is `/health`, regardless of the root path"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:80
msgid "The management interface does not use the HTTP root path from the main HTTP server."
msgstr ""

#. type: delimited block =
#: upstream/_versions/main/guides/management-interface-reference.adoc:85
msgid "The `quarkus.http.root-path` property is only applied to the main HTTP server and not to the management interface.  In addition, the `quarkus.http.non-application-root-path` property is not used for endpoint exposed on the management interface."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:87
#, no-wrap
msgid "Create a management endpoint"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:92
msgid "if you do not enable the management interface, these endpoints will be served using the main HTTP server (under `/q` by default)."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:94
msgid "Extensions can create a management endpoint by defining a _non application_ route and calling `management()` method:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:101
#, no-wrap
msgid ""
"@BuildStep\n"
"void createManagementRoute(BuildProducer<RouteBuildItem> routes,\n"
"        NonApplicationRootPathBuildItem nonApplicationRootPathBuildItem,\n"
"        MyRecorder recorder) {\n"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:110
#, no-wrap
msgid ""
"    routes.produce(nonApplicationRootPathBuildItem.routeBuilder()\n"
"        .management() // Must be called BEFORE the routeFunction method\n"
"        .routeFunction(\"my-path\", recorder.route())\n"
"        .handler(recorder.getHandler())\n"
"        .blockingRoute()\n"
"        .build());\n"
"    //...\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:114
msgid "If the management interface is enabled, the endpoint will be exposed on: `http://0.0.0.0:9000/q/my-path`.  Otherwise, it will be exposed on: `http://localhost:8080/q/my-path`."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:116
msgid "Management endpoints can only be declared by extensions and not from the application code."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:117
#, no-wrap
msgid "Management Interface Configuration"
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:125
#, no-wrap
msgid "Running behind a reverse proxy"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:130
msgid "Quarkus can be accessed through proxies that generate headers (e.g. `X-Forwarded-Host`) to preserve information about the original request.  Quarkus can be configured to automatically update information like protocol, host, port and URI to use the values from those headers."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:133
msgid "Activating this feature can expose the server to security issues like information spoofing.  Activate it only when running behind a reverse proxy."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:135
msgid "To set up this feature for the management interface, include the following lines in `src/main/resources/application.properties`:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:138
#, no-wrap
msgid "quarkus.management.proxy.proxy-address-forwarding=true\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:141
msgid "To constrain this behavior to the standard `Forwarded` header (and ignore `X-Forwarded` variants) by setting `quarkus.management.proxy.allow-forwarded` in `src/main/resources/application.properties`:"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:144
#, no-wrap
msgid "quarkus.management.proxy.allow-forwarded=true\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:147
msgid "Alternatively, you can prefer `X-Forwarded-*` headers using the following configuration in `src/main/resources/application.properties` (note `allow-x-forwarded` instead of `allow-forwarded`):"
msgstr ""

#. type: delimited block -
#: upstream/_versions/main/guides/management-interface-reference.adoc:153
#, no-wrap
msgid ""
"quarkus.management.proxy.proxy-address-forwarding=true\n"
"quarkus.management.proxy.allow-x-forwarded=true\n"
"quarkus.management.proxy.enable-forwarded-host=true\n"
"quarkus.management.proxy.enable-forwarded-prefix=true\n"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:156
msgid "Supported forwarding address headers are:"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:158
msgid "`Forwarded`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:159
msgid "`X-Forwarded-Proto`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:160
msgid "`X-Forwarded-Host`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:161
msgid "`X-Forwarded-Port`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:162
msgid "`X-Forwarded-Ssl`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:163
msgid "`X-Forwarded-Prefix`"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:165
msgid "If both header variants (`Forwarded` and `X-Forwarded-*`) are enabled, the `Forwarded` header will have precedence."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:167
msgid "Using both `Forwarded` and `X-Forwarded` headers can have security implications as it may allow clients to forge requests with a header that is not overwritten by the proxy."
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:169
msgid "Ensure that your proxy is configured to strip unexpected `Forwarded` or `X-Forwarded-*` headers from the client request."
msgstr ""

#. type: Title ==
#: upstream/_versions/main/guides/management-interface-reference.adoc:170
#, no-wrap
msgid "Kubernetes"
msgstr ""

#. type: Plain text
#: upstream/_versions/main/guides/management-interface-reference.adoc:175
msgid "When Quarkus generates the Kubernetes metadata, it checks if the management interface is enabled and configures the probes accordingly.  The resulting descriptor defines the main HTTP port (named `http`) and the management port (named `management`).  Health probes (using HTTP actions) and Prometheus scrape URLs are configured using the `management` port."
msgstr ""

#. type: Block title
#: upstream/_versions/main/guides/management-interface-reference.adoc:177
#, no-wrap
msgid "KNative"
msgstr ""

#. type: delimited block =
#: upstream/_versions/main/guides/management-interface-reference.adoc:180
msgid "Until https://github.com/knative/serving/issues/8471[KNative#8471] is resolved, you cannot use the management interface, as KNative does not support containers will multiple exposed ports."
msgstr ""
