# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2023-11-16 16:21+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:6
#, fuzzy, no-wrap
msgid "Hibernate Search guide"
msgstr "Hibernate搜索指南"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:15
#, fuzzy
msgid "You have a Hibernate ORM-based application? You want to provide a full-featured full-text search to your users? You're at the right place."
msgstr "你有一个基于Hibernate ORM的应用程序？你想为你的用户提供一个全功能的全文搜索？你来对了地方。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:18
#, fuzzy
msgid "With this guide, you'll learn how to synchronize your entities to an Elasticsearch or OpenSearch cluster in a heartbeat with Hibernate Search.  We will also explore how you can query your Elasticsearch or OpenSearch cluster using the Hibernate Search API."
msgstr "通过本指南，你将学习如何通过Hibernate Search在瞬间将你的实体同步到Elasticsearch或OpenSearch集群。我们还将探讨如何使用Hibernate Search API查询Elasticsearch或OpenSearch集群。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:19
#, fuzzy, no-wrap
msgid "Prerequisites"
msgstr "先决条件"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:25
#, fuzzy, no-wrap
msgid "Architecture"
msgstr "建筑学"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:28
#, fuzzy
msgid "The application described in this guide allows to manage a (simple) library: you manage authors and their books."
msgstr "本指南中描述的应用程序允许管理一个（简单的）图书馆：你管理作者和他们的书。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:30
#, fuzzy
msgid "The entities are stored in a PostgreSQL database and indexed in an Elasticsearch cluster."
msgstr "实体被存储在PostgreSQL数据库中，并在Elasticsearch集群中进行索引。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:31
#, fuzzy, no-wrap
msgid "Solution"
msgstr "解决方案"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:35
#, fuzzy
msgid "We recommend that you follow the instructions in the next sections and create the application step by step.  However, you can go right to the completed example."
msgstr "我们建议你按照下面几节的说明，一步一步地创建应用程序。然而，你可以直接进入已完成的例子。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:37
#, fuzzy
msgid "Clone the Git repository: `git clone {quickstarts-clone-url}`, or download an {quickstarts-archive-url}[archive]."
msgstr "克隆 Git 仓库。 `git clone {quickstarts-clone-url}` ，或者下载一个{quickstarts-archive-url}[存档]。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:39
#, fuzzy
msgid "The solution is located in the `hibernate-search-orm-elasticsearch-quickstart` link:{quickstarts-tree-url}/hibernate-search-orm-elasticsearch-quickstart[directory]."
msgstr "该解决方案位于 `hibernate-search-orm-elasticsearch-quickstart` {quickstarts-treeurl}/hibernate-search-orm-elasticsearch-quickstart[目录]中。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:43
#, fuzzy
msgid "The provided solution contains a few additional elements such as tests and testing infrastructure."
msgstr "所提供的解决方案包含一些额外的元素，如测试和测试基础设施。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:45
#, fuzzy, no-wrap
msgid "Creating the Maven project"
msgstr "创建Maven项目"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:48
#, fuzzy
msgid "First, we need a new project. Create a new project with the following command:"
msgstr "首先，我们需要一个新的项目。用以下命令创建一个新项目。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:54
#, fuzzy
msgid "This command generates a Maven structure importing the following extensions:"
msgstr "该命令生成了一个导入以下扩展的Maven结构。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:56
#, fuzzy
msgid "Hibernate ORM with Panache,"
msgstr "Hibernate ORM with Panache,"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:57
#, fuzzy
msgid "the PostgreSQL JDBC driver,"
msgstr "PostgreSQL JDBC驱动程序。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:58
#, fuzzy
msgid "Hibernate Search + Elasticsearch,"
msgstr "Hibernate Search + Elasticsearch。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:59
#, fuzzy
msgid "RESTEasy Reactive and Jackson."
msgstr "RESTEasy反应性和杰克逊。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:62
#, fuzzy
msgid "If you already have your Quarkus project configured, you can add the `hibernate-search-orm-elasticsearch` extension to your project by running the following command in your project base directory:"
msgstr "如果你已经配置了你的Quarkus项目，你可以通过在你的项目基础目录下运行以下命令，将 `hibernate-search-orm-elasticsearch` 扩展到你的项目。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:67
#, fuzzy
msgid "This will add the following to your `pom.xml`:"
msgstr "这将在你的 `pom.xml` 中添加以下内容。"

#. type: Block title
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:69
#, fuzzy, no-wrap
msgid "pom.xml"
msgstr "pom.xml"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:75
#, no-wrap
msgid ""
"<dependency>\n"
"    <groupId>io.quarkus</groupId>\n"
"    <artifactId>quarkus-hibernate-search-orm-elasticsearch</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Block title
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:78
#, fuzzy, no-wrap
msgid "build.gradle"
msgstr "build.gradle"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:81
#, no-wrap
msgid "implementation(\"io.quarkus:quarkus-hibernate-search-orm-elasticsearch\")\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:83
#, fuzzy, no-wrap
msgid "Creating the bare entities"
msgstr "创建裸体实体"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:86
#, fuzzy
msgid "First, let's create our Hibernate ORM entities `Book` and `Author` in the `model` subpackage."
msgstr "首先，让我们在 `model` 子包中创建我们的Hibernate ORM实体 `Book` 和 `Author` 。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:90
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:138
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:295
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:337
#, no-wrap
msgid "package org.acme.hibernate.search.elasticsearch.model;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:93
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:340
#, no-wrap
msgid ""
"import java.util.List;\n"
"import java.util.Objects;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:98
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:345
#, no-wrap
msgid ""
"import jakarta.persistence.CascadeType;\n"
"import jakarta.persistence.Entity;\n"
"import jakarta.persistence.FetchType;\n"
"import jakarta.persistence.OneToMany;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:100
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:147
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:307
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:353
#, no-wrap
msgid "import io.quarkus.hibernate.orm.panache.PanacheEntity;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:103
#, no-wrap
msgid ""
"@Entity\n"
"public class Author extends PanacheEntity { // <1>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:105
#, no-wrap
msgid "    public String firstName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:107
#, no-wrap
msgid "    public String lastName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:110
#, no-wrap
msgid ""
"    @OneToMany(mappedBy = \"author\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER) // <2>\n"
"    public List<Book> books;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:119
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean equals(Object o) {\n"
"        if (this == o) {\n"
"            return true;\n"
"        }\n"
"        if (!(o instanceof Author)) {\n"
"            return false;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:121
#, no-wrap
msgid "        Author other = (Author) o;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:124
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:170
#, no-wrap
msgid ""
"        return Objects.equals(id, other.id);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:130
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:176
#, no-wrap
msgid ""
"    @Override\n"
"    public int hashCode() {\n"
"        return 31;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:132
#, fuzzy
msgid "We are using Hibernate ORM with Panache, it is not mandatory."
msgstr "我们正在使用Hibernate ORM与Panache，这并不是强制性的。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:134
#, fuzzy
msgid "We are loading these elements eagerly so that they are present in the JSON output.  In a real world application, you should probably use a DTO approach."
msgstr "我们正在急切地加载这些元素，这样它们就会出现在JSON输出中。在现实世界的应用中，你可能应该使用DTO方法。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:140
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:297
#, no-wrap
msgid "import java.util.Objects;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:143
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:300
#, no-wrap
msgid ""
"import jakarta.persistence.Entity;\n"
"import jakarta.persistence.ManyToOne;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:145
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:305
#, no-wrap
msgid "import com.fasterxml.jackson.annotation.JsonIgnore;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:150
#, no-wrap
msgid ""
"@Entity\n"
"public class Book extends PanacheEntity {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:152
#, no-wrap
msgid "    public String title;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:156
#, no-wrap
msgid ""
"    @ManyToOne\n"
"    @JsonIgnore <1>\n"
"    public Author author;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:165
#, no-wrap
msgid ""
"    @Override\n"
"    public boolean equals(Object o) {\n"
"        if (this == o) {\n"
"            return true;\n"
"        }\n"
"        if (!(o instanceof Book)) {\n"
"            return false;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:167
#, no-wrap
msgid "        Book other = (Book) o;\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:178
#, fuzzy
msgid "We mark this property with `@JsonIgnore` to avoid infinite loops when serializing with Jackson."
msgstr "我们用 `@JsonIgnore` 来标记这个属性，以避免在用Jackson进行序列化时出现无限循环。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:179
#, fuzzy, no-wrap
msgid "Initializing the REST service"
msgstr "初始化REST服务"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:182
#, fuzzy
msgid "While everything is not yet set up for our REST service, we can initialize it with the standard CRUD operations we will need."
msgstr "虽然我们的REST服务的一切都还没有设置好，但我们可以用我们需要的标准CRUD操作来初始化它。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:184
#, fuzzy
msgid "Create the `org.acme.hibernate.search.elasticsearch.LibraryResource` class:"
msgstr "创建 `org.acme.hibernate.search.elasticsearch.LibraryResource` 类。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:188
#, no-wrap
msgid "package org.acme.hibernate.search.elasticsearch;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:191
#, no-wrap
msgid ""
"import java.util.List;\n"
"import java.util.Optional;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:201
#, no-wrap
msgid ""
"import jakarta.enterprise.event.Observes;\n"
"import jakarta.inject.Inject;\n"
"import jakarta.transaction.Transactional;\n"
"import jakarta.ws.rs.DELETE;\n"
"import jakarta.ws.rs.GET;\n"
"import jakarta.ws.rs.POST;\n"
"import jakarta.ws.rs.PUT;\n"
"import jakarta.ws.rs.Path;\n"
"import jakarta.ws.rs.core.MediaType;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:207
#, no-wrap
msgid ""
"import org.acme.hibernate.search.elasticsearch.model.Author;\n"
"import org.acme.hibernate.search.elasticsearch.model.Book;\n"
"import org.hibernate.search.mapper.orm.session.SearchSession;\n"
"import org.jboss.resteasy.reactive.RestForm;\n"
"import org.jboss.resteasy.reactive.RestQuery;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:209
#, no-wrap
msgid "import io.quarkus.runtime.StartupEvent;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:212
#, no-wrap
msgid ""
"@Path(\"/library\")\n"
"public class LibraryResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:222
#, no-wrap
msgid ""
"    @PUT\n"
"    @Path(\"book\")\n"
"    @Transactional\n"
"    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n"
"    public void addBook(@RestForm String title, @RestForm Long authorId) {\n"
"        Author author = Author.findById(authorId);\n"
"        if (author == null) {\n"
"            return;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:227
#, no-wrap
msgid ""
"        Book book = new Book();\n"
"        book.title = title;\n"
"        book.author = author;\n"
"        book.persist();\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:231
#, no-wrap
msgid ""
"        author.books.add(book);\n"
"        author.persist();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:242
#, no-wrap
msgid ""
"    @DELETE\n"
"    @Path(\"book/{id}\")\n"
"    @Transactional\n"
"    public void deleteBook(Long id) {\n"
"        Book book = Book.findById(id);\n"
"        if (book != null) {\n"
"            book.author.books.remove(book);\n"
"            book.delete();\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:253
#, no-wrap
msgid ""
"    @PUT\n"
"    @Path(\"author\")\n"
"    @Transactional\n"
"    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n"
"    public void addAuthor(@RestForm String firstName, @RestForm String lastName) {\n"
"        Author author = new Author();\n"
"        author.firstName = firstName;\n"
"        author.lastName = lastName;\n"
"        author.persist();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:267
#, no-wrap
msgid ""
"    @POST\n"
"    @Path(\"author/{id}\")\n"
"    @Transactional\n"
"    @Consumes(MediaType.APPLICATION_FORM_URLENCODED)\n"
"    public void updateAuthor(Long id, @RestForm String firstName, @RestForm String lastName) {\n"
"        Author author = Author.findById(id);\n"
"        if (author == null) {\n"
"            return;\n"
"        }\n"
"        author.firstName = firstName;\n"
"        author.lastName = lastName;\n"
"        author.persist();\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:278
#, no-wrap
msgid ""
"    @DELETE\n"
"    @Path(\"author/{id}\")\n"
"    @Transactional\n"
"    public void deleteAuthor(Long id) {\n"
"        Author author = Author.findById(id);\n"
"        if (author != null) {\n"
"            author.delete();\n"
"        }\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:281
#, fuzzy
msgid "Nothing out of the ordinary here: it is just good old Hibernate ORM with Panache operations in a REST service."
msgstr "这里没有什么特别之处：它只是在REST服务中使用Panache操作的良好的老Hibernate ORM。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:283
#, fuzzy
msgid "In fact, the interesting part is that we will need to add very few elements to make our full text search application working."
msgstr "事实上，有趣的是，我们将需要添加很少的元素来使我们的全文搜索应用程序工作。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:284
#, fuzzy, no-wrap
msgid "Using Hibernate Search annotations"
msgstr "使用Hibernate搜索注释"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:287
#, fuzzy
msgid "Let's go back to our entities."
msgstr "让我们回到我们的实体。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:289
#, fuzzy
msgid "Enabling full text search capabilities for them is as simple as adding a few annotations."
msgstr "为它们启用全文搜索功能，就像添加一些注释一样简单。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:291
#, fuzzy
msgid "Let's edit the `Book` entity again to include this content:"
msgstr "让我们再次编辑 `Book` 实体以包括这个内容。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:303
#, no-wrap
msgid ""
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:311
#, no-wrap
msgid ""
"@Entity\n"
"@Indexed // <1>\n"
"public class Book extends PanacheEntity {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:314
#, no-wrap
msgid ""
"    @FullTextField(analyzer = \"english\") // <2>\n"
"    public String title;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:318
#, no-wrap
msgid ""
"    @ManyToOne\n"
"    @JsonIgnore\n"
"    public Author author;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:321
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:372
#, no-wrap
msgid ""
"    // Preexisting equals()/hashCode() methods\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:323
#, fuzzy
msgid "First, let's use the `@Indexed` annotation to register our `Book` entity as part of the full text index."
msgstr "首先，让我们使用 `@Indexed` 注解来注册我们的 `Book` 实体作为全文索引的一部分。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:325
#, fuzzy
msgid "The `@FullTextField` annotation declares a field in the index specifically tailored for full text search.  In particular, we have to define an analyzer to split and analyze the tokens (~ words) - more on this later."
msgstr " `@FullTextField` 注释声明了索引中专门为全文搜索定制的字段。特别是，我们必须定义一个分析器来分割和分析标记（~词）--后面会有更多的介绍。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:327
#, fuzzy
msgid "Now that our books are indexed, we can do the same for the authors."
msgstr "现在我们的书已经有了索引，我们可以为作者做同样的事情。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:329
#, fuzzy
msgid "Open the `Author` class and include the content below."
msgstr "打开 `Author` 类，包括以下内容。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:331
#, fuzzy
msgid "Things are quite similar here: we use the `@Indexed`, `@FullTextField` and `@KeywordField` annotations."
msgstr "这里的情况很相似：我们使用 `@Indexed` , `@FullTextField` 和 `@KeywordField` 注释。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:333
#, fuzzy
msgid "There are a few differences/additions though. Let's check them out."
msgstr "不过有一些区别/补充。让我们来看看它们。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:351
#, no-wrap
msgid ""
"import org.hibernate.search.engine.backend.types.Sortable;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.FullTextField;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.Indexed;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.IndexedEmbedded;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.annotation.KeywordField;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:357
#, no-wrap
msgid ""
"@Entity\n"
"@Indexed\n"
"public class Author extends PanacheEntity {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:361
#, no-wrap
msgid ""
"    @FullTextField(analyzer = \"name\") // <1>\n"
"    @KeywordField(name = \"firstName_sort\", sortable = Sortable.YES, normalizer = \"sort\") // <2>\n"
"    public String firstName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:365
#, no-wrap
msgid ""
"    @FullTextField(analyzer = \"name\")\n"
"    @KeywordField(name = \"lastName_sort\", sortable = Sortable.YES, normalizer = \"sort\")\n"
"    public String lastName;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:369
#, no-wrap
msgid ""
"    @OneToMany(mappedBy = \"author\", cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n"
"    @IndexedEmbedded // <3>\n"
"    public List<Book> books;\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:374
#, fuzzy
msgid "We use a `@FullTextField` similar to what we did for `Book` but you'll notice that the analyzer is different - more on this later."
msgstr "我们使用的 `@FullTextField` ，类似于我们对 `Book` ，但你会注意到，分析器是不同的--后面会有更多介绍。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:378
#, fuzzy
msgid "As you can see, we can define several fields for the same property.  Here, we define a `@KeywordField` with a specific name.  The main difference is that a keyword field is not tokenized (the string is kept as one single token) but can be normalized (i.e. filtered) - more on this later.  This field is marked as sortable as our intention is to use it for sorting our authors."
msgstr "正如你所看到的，我们可以为同一个属性定义几个字段。在这里，我们定义了一个具有特定名称的 `@KeywordField` 。主要的区别是，关键词字段没有被标记（字符串被保留为一个单一的标记），但可以被规范化（即过滤）--后面会有更多的内容。这个字段被标记为可排序，因为我们的目的是用它来对我们的作者进行排序。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:383
#, fuzzy
msgid "The purpose of `@IndexedEmbedded` is to include the `Book` fields into the `Author` index.  In this case, we just use the default configuration: all the fields of the associated `Book` entities are included in the index (i.e. the `title` field).  The nice thing with `@IndexedEmbedded` is that it is able to automatically reindex an `Author` if one of its ``Book``s has been updated thanks to the bidirectional relation.  `@IndexedEmbedded` also supports nested documents (using the `storage = NESTED` attribute), but we don't need it here.  You can also specify the fields you want to include in your parent index using the `includePaths` attribute if you don't want them all."
msgstr " `@IndexedEmbedded` 的目的是将 `Book` 的字段纳入 `Author` 的索引中。在这种情况下，我们只是使用默认配置：相关的 `Book` 实体的所有字段都包括在索引中（即 `title` 字段）。 `@IndexedEmbedded` 的好处是，由于双向关系，如果它的一个 `Book` s被更新，它能够自动重新索引 `Author` 。 `@IndexedEmbedded` 也支持嵌套文件（使用 `storage = NESTED` 属性），但我们在这里不需要它。如果你不想要所有的字段，你也可以使用 `includePaths` 属性指定你想在父索引中包括的字段。"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:385
#, no-wrap
msgid "Programmatic mapping"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:391
msgid "If, for some reason, adding Hibernate Search annotations to entities is not possible, mapping can be applied programmatically instead.  Programmatic mapping is configured through the `ProgrammaticMappingConfigurationContext` that is exposed via a mapping configurer (`HibernateOrmSearchMappingConfigurer`)."
msgstr ""

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:396
msgid "A mapping configurer (`HibernateOrmSearchMappingConfigurer`) allows much more than just programmatic mapping capabilities.  It also allows link:{hibernate-search-docs-url}#mapper-orm-mapping-configurer[configuring annotation mapping, bridges, and more]."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:399
msgid "Below is an example of a mapping configurer that applies programmatic mapping:"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:403
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:503
#, no-wrap
msgid "package org.acme.hibernate.search.elasticsearch.config;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:407
#, no-wrap
msgid ""
"import org.hibernate.search.mapper.orm.mapping.HibernateOrmMappingConfigurationContext;\n"
"import org.hibernate.search.mapper.orm.mapping.HibernateOrmSearchMappingConfigurer;\n"
"import org.hibernate.search.mapper.pojo.mapping.definition.programmatic.TypeMappingStep;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:409
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:508
#, no-wrap
msgid "import io.quarkus.hibernate.search.orm.elasticsearch.SearchExtension;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:412
#, no-wrap
msgid ""
"@SearchExtension // <1>\n"
"public class CustomMappingConfigurer implements HibernateOrmSearchMappingConfigurer {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:423
#, no-wrap
msgid ""
"\t@Override\n"
"    public void configure(HibernateOrmMappingConfigurationContext context) {\n"
"        TypeMappingStep type = context.programmaticMapping()    // <2>\n"
"            .type(SomeIndexedEntity.class);                     // <3>\n"
"        type.indexed()                                          // <4>\n"
"            .index(SomeIndexedEntity.INDEX_NAME);               // <5>\n"
"        type.property(\"id\").documentId();                       // <6>\n"
"        type.property(\"text\").fullTextField();                  // <7>\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:426
#, fuzzy
msgid "Annotate the configurer implementation with the `@SearchExtension` qualifier to tell Quarkus it should be used by Hibernate Search in the default persistence unit."
msgstr "用 `@SearchExtension` 修饰符对configurer实现进行注释，以告诉Quarkus它应该被用于默认的持久化单元，用于所有Elasticsearch索引（默认）。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:428
msgid "The annotation can also target a specific persistence unit (`@SearchExtension(persistenceUnit = \"nameOfYourPU\")`)."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:429
msgid "Access the programmatic mapping context."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:430
msgid "Create mapping step for the `SomeIndexedEntity` entity."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:431
msgid "Define the `SomeIndexedEntity` entity as indexed."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:432
msgid "Provide an index name to be used for the `SomeIndexedEntity` entity."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:433
msgid "Define the document id property."
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:434
msgid "Define a full-text search field for the `text` property."
msgstr ""

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:440
#, fuzzy
msgid "Alternatively, if for some reason you can't or don't want to annotate your mapping configurer with `@SearchExtension`, you can simply annotate it with `@Dependent @Named(\"myMappingConfigurer\")` and then reference it from configuration properties:"
msgstr "另外，如果由于某种原因，你不能或不想用 `@SearchExtension` 来注释你的分析配置器，你可以简单地用 `@Dependent @Named(\"myAnalysisConfigurer\")` 来注释它，然后从配置属性中引用它。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:444
#, no-wrap
msgid "quarkus.hibernate-search-orm.mapping.configurer=bean:myMappingConfigurer\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:447
#, fuzzy, no-wrap
msgid "Analyzers and normalizers"
msgstr "分析器和归一化器"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:449
#, fuzzy, no-wrap
msgid "Introduction"
msgstr "简介"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:452
#, fuzzy
msgid "Analysis is a big part of full text search: it defines how text will be processed when indexing or building search queries."
msgstr "分析是全文搜索的一个重要部分：它定义了在索引或建立搜索查询时将如何处理文本。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:454
#, fuzzy
msgid "The role of analyzers is to split the text into tokens (~ words) and filter them (making it all lowercase and removing accents for instance)."
msgstr "分析器的作用是将文本分割成标记（～词），并对其进行过滤（例如，使其全部为小写字母并去除重音）。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:457
#, fuzzy
msgid "Normalizers are a special type of analyzers that keeps the input as a single token.  It is especially useful for sorting or indexing keywords."
msgstr "正常化器是一种特殊类型的分析器，它将输入保持为单一标记。它对关键词的排序或索引特别有用。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:459
#, fuzzy
msgid "There are a lot of bundled analyzers, but you can also develop your own for your own specific purposes."
msgstr "有很多捆绑的分析器，但你也可以为自己的特定目的开发自己的分析器。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:461
#, fuzzy
msgid "You can learn more about the Elasticsearch analysis framework in the https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html[Analysis section of the Elasticsearch documentation]."
msgstr "你可以在 link:https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis.html[Elasticsearch文档的分析部分] 了解更多关于Elasticsearch分析框架的信息。"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:462
#, fuzzy, no-wrap
msgid "Defining the analyzers used"
msgstr "定义所用的分析仪"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:466
#, fuzzy
msgid "When we added the Hibernate Search annotations to our entities, we defined the analyzers and normalizers used.  Typically:"
msgstr "当我们将Hibernate搜索注释添加到我们的实体时，我们定义了所使用的分析器和规范化器。通常情况下。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:470
#, no-wrap
msgid "@FullTextField(analyzer = \"english\")\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:475
#, no-wrap
msgid "@FullTextField(analyzer = \"name\")\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:480
#, no-wrap
msgid "@KeywordField(name = \"lastName_sort\", sortable = Sortable.YES, normalizer = \"sort\")\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:483
#, fuzzy
msgid "We use:"
msgstr "我们使用。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:485
#, fuzzy
msgid "an analyzer called `name` for person names,"
msgstr "一个名为 `name` 的人名分析器。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:486
#, fuzzy
msgid "an analyzer called `english` for book titles,"
msgstr "一个名为 `english` 的分析器，用于分析书名。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:487
#, fuzzy
msgid "a normalizer called `sort` for our sort fields"
msgstr "一个名为 `sort` 的规范化器用于我们的排序字段"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:489
#, fuzzy
msgid "but we haven't set them up yet."
msgstr "但我们还没有设置它们。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:491
#, fuzzy
msgid "Let's see how you can do it with Hibernate Search."
msgstr "让我们看看你如何用Hibernate搜索来做这件事。"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:493
#, fuzzy, no-wrap
msgid "Setting up the analyzers"
msgstr "设置分析器"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:497
#, fuzzy
msgid "It is an easy task, we just need to create an implementation of `ElasticsearchAnalysisConfigurer` (and configure Quarkus to use it, more on that later)."
msgstr "这是一个简单的任务，我们只需要创建一个 `ElasticsearchAnalysisConfigurer` （并配置Quarkus来使用它，后面会详细介绍）的实现。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:499
#, fuzzy
msgid "To fulfill our requirements, let's create the following implementation:"
msgstr "为了满足我们的要求，让我们创建以下实现。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:506
#, no-wrap
msgid ""
"import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext;\n"
"import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:511
#, no-wrap
msgid ""
"@SearchExtension // <1>\n"
"public class AnalysisConfigurer implements ElasticsearchAnalysisConfigurer {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:517
#, no-wrap
msgid ""
"    @Override\n"
"    public void configure(ElasticsearchAnalysisConfigurationContext context) {\n"
"        context.analyzer(\"name\").custom() // <2>\n"
"                .tokenizer(\"standard\")\n"
"                .tokenFilters(\"asciifolding\", \"lowercase\");\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:521
#, no-wrap
msgid ""
"        context.analyzer(\"english\").custom() // <3>\n"
"                .tokenizer(\"standard\")\n"
"                .tokenFilters(\"asciifolding\", \"lowercase\", \"porter_stem\");\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:526
#, no-wrap
msgid ""
"        context.normalizer(\"sort\").custom() // <4>\n"
"                .tokenFilters(\"asciifolding\", \"lowercase\");\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:529
#, fuzzy
msgid "Annotate the configurer implementation with the `@SearchExtension` qualifier to tell Quarkus it should be used in the default persistence unit, for all Elasticsearch indexes (by default)."
msgstr "用 `@SearchExtension` 修饰符对configurer实现进行注释，以告诉Quarkus它应该被用于默认的持久化单元，用于所有Elasticsearch索引（默认）。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:534
#, fuzzy
msgid "The annotation can also target a specific persistence unit (`@SearchExtension(persistenceUnit = \"nameOfYourPU\")`), backend (`@SearchExtension(backend = \"nameOfYourBackend\")`), index (`@SearchExtension(index = \"nameOfYourIndex\")`), or a combination of those (`@SearchExtension(persistenceUnit = \"nameOfYourPU\", backend = \"nameOfYourBackend\", index = \"nameOfYourIndex\")`)."
msgstr "注释也可以针对特定的持久化单元( `@SearchExtension(persistenceUnit = \"nameOfYourPU\")` )、后端( `@SearchExtension(backend = \"nameOfYourBackend\")` )、索引( `@SearchExtension(index = \"nameOfYourIndex\")` )，或这些的组合( `@SearchExtension(persistenceUnit = \"nameOfYourPU\", backend = \"nameOfYourBackend\", index = \"nameOfYourIndex\")` )。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:536
#, fuzzy
msgid "This is a simple analyzer separating the words on spaces, removing any non-ASCII characters by its ASCII counterpart (and thus removing accents) and putting everything in lowercase.  It is used in our examples for the author's names."
msgstr "这是一个简单的分析器，在空格上分离单词，用ASCII对应的字符去除任何非ASCII字符（从而去除重音），并将所有内容都放在小写字母中。在我们的例子中，它被用于作者的名字。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:538
#, fuzzy
msgid "We are a bit more aggressive with this one and we include some stemming: we will be able to search for `mystery` and get a result even if the indexed input contains `mysteries`.  It is definitely too aggressive for person names, but it is perfect for the book titles."
msgstr "我们在这个问题上更积极一些，我们包括一些词根：我们将能够搜索 `mystery` ，并得到一个结果，即使索引的输入包含 `mysteries` 。对于人名来说，这无疑是太激进了，但对于书名来说，这却是完美的。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:539
#, fuzzy
msgid "Here is the normalizer used for sorting. Very similar to our first analyzer, except we don't tokenize the words as we want one and only one token."
msgstr "这里是用于排序的规范化器。与我们的第一个分析器非常相似，只是我们不对单词进行标记，因为我们想要一个而且只有一个标记。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:545
#, fuzzy
msgid "Alternatively, if for some reason you can't or don't want to annotate your analysis configurer with `@SearchExtension`, you can simply annotate it with `@Dependent @Named(\"myAnalysisConfigurer\")` and then reference it from configuration properties:"
msgstr "另外，如果由于某种原因，你不能或不想用 `@SearchExtension` 来注释你的分析配置器，你可以简单地用 `@Dependent @Named(\"myAnalysisConfigurer\")` 来注释它，然后从配置属性中引用它。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:549
#, no-wrap
msgid "quarkus.hibernate-search-orm.elasticsearch.analysis.configurer=bean:myAnalysisConfigurer\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:552
#, fuzzy, no-wrap
msgid "Adding full text capabilities to our REST service"
msgstr "为我们的REST服务添加全文功能"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:555
#, fuzzy
msgid "In our existing `LibraryResource`, we just need to inject the `SearchSession`:"
msgstr "在我们现有的 `LibraryResource` ，我们只需要注入 `SearchSession` 。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:560
#, no-wrap
msgid ""
"    @Inject\n"
"    SearchSession searchSession; // <1>\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:565
#, fuzzy
msgid "Inject a Hibernate Search session, which relies on the `EntityManager` under the hood.  Applications with multiple persistence units can use the CDI qualifier `@io.quarkus.hibernate.orm.PersistenceUnit` to select the right one: see xref:multiple-persistence-units-attaching-cdi[CDI integration]."
msgstr "注入一个Hibernate搜索会话，它依赖于引擎盖下的 `EntityManager` 。有多个持久化单元的应用程序可以使用CDI限定符 `@io.quarkus.hibernate.orm.PersistenceUnit` 来选择正确的单元：见 link:#multiple-persistence-units-attaching-cdi[[multiple-persistence-units-attaching-cdi]] 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:567
#, fuzzy
msgid "And then we can add the following methods (and a few ``import``s):"
msgstr "然后我们可以添加以下方法（和一些 `import` s）。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:578
#, no-wrap
msgid ""
"    @Transactional // <1>\n"
"    void onStart(@Observes StartupEvent ev) throws InterruptedException { // <2>\n"
"        // only reindex if we imported some content\n"
"        if (Book.count() > 0) {\n"
"            searchSession.massIndexer()\n"
"                    .startAndWait();\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:594
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"author/search\") // <3>\n"
"    @Transactional\n"
"    public List<Author> searchAuthors(@RestQuery String pattern, // <4>\n"
"            @RestQuery Optional<Integer> size) {\n"
"        return searchSession.search(Author.class) // <5>\n"
"                .where(f ->\n"
"                    pattern == null || pattern.trim().isEmpty() ?\n"
"                        f.matchAll() : // <6>\n"
"                        f.simpleQueryString()\n"
"                                .fields(\"firstName\", \"lastName\", \"books.title\").matching(pattern) // <7>\n"
"                )\n"
"                .sort(f -> f.field(\"lastName_sort\").then().field(\"firstName_sort\")) // <8>\n"
"                .fetchHits(size.orElse(20)); // <9>\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:596
#, fuzzy
msgid "Important point: we need a transactional context for these methods."
msgstr "重要的一点是：我们需要为这些方法提供一个事务性的背景。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:601
#, fuzzy
msgid "As we will import data into the PostgreSQL database using an SQL script, we need to reindex the data at startup.  For this, we use Hibernate Search's mass indexer, which allows to index a lot of data efficiently (you can fine tune it for better performances).  All the upcoming updates coming through Hibernate ORM operations will be synchronized automatically to the full text index.  If you don't import data manually in the database, you don't need that: the mass indexer should then only be used when you change your indexing configuration (adding a new field, changing an analyzer's configuration...) and you want the new configuration to be applied to your existing entities."
msgstr "由于我们将使用SQL脚本将数据导入PostgreSQL数据库，我们需要在启动时重新索引数据。为此，我们使用Hibernate Search的大规模索引器，它可以有效地索引大量的数据（你可以微调它以获得更好的性能）。所有即将通过Hibernate ORM操作而来的更新都将自动同步到全文索引中。如果你不在数据库中手动导入数据，你就不需要这样做：那么只有当你改变你的索引配置（添加一个新字段，改变一个分析器的配置......），并且你希望新的配置应用于你现有的实体时，才应该使用大规模索引器。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:602
#, fuzzy
msgid "This is where the magic begins: just adding the annotations to our entities makes them available for full text search: we can now query the index using the Hibernate Search DSL."
msgstr "这就是神奇的开始：只要将注释添加到我们的实体中，它们就可以进行全文搜索：我们现在可以使用Hibernate Search DSL查询索引。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:603
#, fuzzy
msgid "Use the `org.jboss.resteasy.reactive.RestQuery` annotation type to avoid repeating the parameter name."
msgstr "使用 `org.jboss.resteasy.reactive.RestQuery` 注释类型来避免重复参数名称。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:604
#, fuzzy
msgid "We indicate that we are searching for ``Author``s."
msgstr "我们表示，我们正在寻找 `Author` s。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:605
#, fuzzy
msgid "We create a predicate: if the pattern is empty, we use a `matchAll()` predicate."
msgstr "我们创建一个谓词：如果模式是空的，我们就使用一个 `matchAll()` 谓词。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:606
#, fuzzy
msgid "If we have a valid pattern, we create a https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html[`simpleQueryString()`] predicate on the `firstName`, `lastName` and `books.title` fields matching our pattern."
msgstr "如果我们有一个有效的模式，我们就对与我们的模式相匹配的 link:https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-simple-query-string-query.html[`simpleQueryString()`] 在 `firstName` , `lastName` 和 `books.title` 字段上创建与我们的模式匹配的谓词。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:607
#, fuzzy
msgid "We define the sort order of our results. Here we sort by last name, then by first name. Note that we use the specific fields we created for sorting."
msgstr "我们定义我们的结果的排序顺序。这里我们按姓氏排序，然后按名字排序。注意，我们使用我们创建的特定字段进行排序。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:608
#, fuzzy
msgid "Fetch the `size` top hits, `20` by default. Obviously, paging is also supported."
msgstr "获取 `size` 的最高点击率，默认为 `20` 。很明显，也支持分页。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:613
#, fuzzy
msgid "The Hibernate Search DSL supports a significant subset of the Elasticsearch predicates (match, range, nested, phrase, spatial...).  Feel free to explore the DSL using autocompletion."
msgstr "Hibernate Search DSL支持Elasticsearch谓词的一个重要子集（匹配、范围、嵌套、短语、空间...）。请随意使用自动完成来探索DSL。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:616
#, fuzzy
msgid "When that's not enough, you can always fall back to link:{hibernate-search-docs-url}#search-dsl-predicate-extensions-elasticsearch-from-json[defining a predicate using JSON directly]."
msgstr "当这还不够时，你总是可以退回到 link:{hibernate-search-doc-prefix}#search-dsl-predicate-extensions-elasticsearch-from-json[直接使用JSON定义谓词] 。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:618
#, fuzzy, no-wrap
msgid "Configuring the application"
msgstr "配置应用程序"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:621
#, fuzzy
msgid "As usual, we can configure everything in the Quarkus configuration file, `application.properties`."
msgstr "像往常一样，我们可以在Quarkus配置文件中配置一切， `application.properties` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:623
#, fuzzy
msgid "Edit `src/main/resources/application.properties` and inject the following configuration:"
msgstr "编辑 `src/main/resources/application.properties` ，并注入以下配置。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:627
#, no-wrap
msgid "quarkus.ssl.native=false <1>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:629
#, no-wrap
msgid "quarkus.datasource.db-kind=postgresql <2>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:631
#, no-wrap
msgid "quarkus.hibernate-orm.sql-load-script=import.sql <3>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:634
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.elasticsearch.version=8 <4>\n"
"quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy=sync <5>\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:640
#, no-wrap
msgid ""
"%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost/quarkus_test <6>\n"
"%prod.quarkus.datasource.username=quarkus_test\n"
"%prod.quarkus.datasource.password=quarkus_test\n"
"%prod.quarkus.hibernate-orm.database.generation=create\n"
"%prod.hibernate-search-orm.elasticsearch.hosts=localhost:9200 <6>\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:642
#, fuzzy
msgid "We won't use SSL, so we disable it to have a more compact native executable."
msgstr "我们不会使用SSL，所以我们禁用它以获得一个更紧凑的本地可执行文件。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:643
#, fuzzy
msgid "Let's create a PostgreSQL datasource."
msgstr "让我们创建一个PostgreSQL数据源。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:644
#, fuzzy
msgid "We load some initial data on startup."
msgstr "我们加载一些初始数据。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:648
#, fuzzy
msgid "We need to tell Hibernate Search about the version of Elasticsearch we will use.  It is important because there are significant differences between Elasticsearch mapping syntax depending on the version.  Since the mapping is created at build time to reduce startup time, Hibernate Search cannot connect to the cluster to automatically detect the version.  Note that, for OpenSearch, you need to prefix the version with `opensearch:`; see xref:opensearch[OpenSearch compatibility]."
msgstr "我们需要告诉Hibernate Search我们将使用的Elasticsearch的版本。这很重要，因为Elasticsearch的映射语法因版本不同而有很大差异。由于映射是在构建时创建的，以减少启动时间，Hibernate Search无法连接到集群来自动检测版本。注意，对于OpenSearch，你需要在版本前加上 `opensearch:` ；见 link:#opensearch[[opensearch]] 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:651
#, fuzzy
msgid "This means that we wait for the entities to be searchable before considering a write complete.  On a production setup, the `write-sync` default will provide better performance.  Using `sync` is especially important when testing as you need the entities to be searchable immediately."
msgstr "这意味着我们要等待实体可以被搜索到，然后再考虑写入完成。在生产设置中， `write-sync` 默认会提供更好的性能。在测试时，使用 `sync` 特别重要，因为你需要实体可以立即被搜索到。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:656
#, fuzzy
msgid "For development and tests, we rely on xref:dev-services[Dev Services], which means Quarkus will start a PostgreSQL database and Elasticsearch cluster automatically.  In production mode, however, you will want to start a PostgreSQL database and Elasticsearch cluster manually, which is why we provide Quarkus with this connection info in the `prod` profile (`%prod.` prefix)."
msgstr "对于开发和测试，我们依靠 link:#dev-services[Dev Services] ，这意味着Quarkus会自动启动PostgreSQL数据库和Elasticsearch集群。然而，在生产模式下，你会希望手动启动PostgreSQL数据库和Elasticsearch集群，这就是为什么我们在 `prod` profile（ `%prod.` 前缀）中向Quarkus提供这个连接信息。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:663
#, fuzzy
msgid "Because we rely on xref:dev-services[Dev Services], the database and Elasticsearch schema will automatically be dropped and re-created on each application startup in tests and dev mode (unless link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] is set explicitly)."
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:666
#, fuzzy
msgid "If for some reason you cannot use Dev Services, you will have to set the following properties to get similar behavior:"
msgstr "如果由于某种原因你不能使用开发服务，你将不得不设置以下属性以获得类似的行为。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:673
#, fuzzy, no-wrap
msgid ""
"%dev.quarkus.hibernate-orm.database.generation=drop-and-create\n"
"%test.quarkus.hibernate-orm.database.generation=drop-and-create\n"
"%dev.quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create\n"
"%test.quarkus.hibernate-search-orm.schema-management.strategy=drop-and-create\n"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:676
#, fuzzy
msgid "See also link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`]."
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:681
#, fuzzy
msgid "For more information about the Hibernate Search extension configuration please refer to the xref:configuration-reference[Configuration Reference]."
msgstr "关于Hibernate Search扩展配置的更多信息，请参考 link:#configuration-reference[配置参考] 。"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:683
#, fuzzy, no-wrap
msgid "Dev Services (Configuration Free Databases)"
msgstr "开发服务（免配置数据库）。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:688
#, fuzzy
msgid "Quarkus supports a feature called Dev Services that allows you to start various containers without any config.  In the case of Elasticsearch this support extends to the default Elasticsearch connection.  What that means practically, is that if you have not configured `quarkus.hibernate-search-orm.elasticsearch.hosts` Quarkus will automatically start an Elasticsearch container when running tests or in xref:dev-mode-differences.adoc[dev mode], and automatically configure the connection."
msgstr "Quarkus支持一个叫做Dev Services的功能，允许你在没有任何配置的情况下启动各种容器。在Elasticsearch的例子中，这种支持延伸到了默认的Elasticsearch连接。这实际上意味着，如果你没有配置 `quarkus.hibernate-search-orm.elasticsearch.hosts` ，Quarkus会在运行测试或 link:dev-mode-differences.html[开发模式] 中自动启动Elasticsearch容器，并自动配置连接。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:692
#, fuzzy
msgid "When running the production version of the application, the Elasticsearch connection needs to be configured as normal, so if you want to include a production database config in your `application.properties` and continue to use Dev Services we recommend that you use the `%prod.` profile to define your Elasticsearch settings."
msgstr "当运行生产版本的应用程序时，Elasticsearch连接需要正常配置，所以如果你想在 `application.properties` ，并继续使用Dev Services，我们建议你使用 `%prod.` profile来定义Elasticsearch设置。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:694
#, fuzzy
msgid "Dev Services for Elasticsearch is currently unable to start multiple clusters concurrently, so it only works with the default backend of the default persistence unit: named persistence units or named backends won't be able to take advantage of Dev Services for Elasticsearch."
msgstr "Dev Services for Elasticsearch目前无法同时启动多个集群，所以它只适用于默认持久化单元的默认后端：命名的持久化单元或命名的后端将无法利用Dev Services for Elasticsearch的优势。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:696
#, fuzzy
msgid "For more information you can read the xref:elasticsearch-dev-services.adoc[Dev Services for Elasticsearch guide]."
msgstr "欲了解更多信息，你可以阅读 link:elasticsearch-dev-services.html[Elasticsearch的开发服务指南] 。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:697
#, fuzzy, no-wrap
msgid "Creating a frontend"
msgstr "创建一个前台"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:703
#, fuzzy
msgid "Now let's add a simple web page to interact with our `LibraryResource`.  Quarkus automatically serves static resources located under the `META-INF/resources` directory.  In the `src/main/resources/META-INF/resources` directory, overwrite the existing `index.html` file with the content from this {quickstarts-blob-url}/hibernate-search-orm-elasticsearch-quickstart/src/main/resources/META-INF/resources/index.html[index.html] file."
msgstr "现在让我们添加一个简单的网页来与我们的 `LibraryResource` 。Quarkus自动提供位于 `META-INF/resources` 目录下的静态资源。在 `src/main/resources/META-INF/resources` 目录中，用这个{quickstarts-blob-url}/hibernate-search-orm-elasticsearch-quickstart/src/main/resources/META-INF/resources/index.html[index.html]文件的内容覆盖现有的 `index.html` 文件。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:704
#, fuzzy, no-wrap
msgid "Automatic import script"
msgstr "自动导入脚本"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:707
#, fuzzy
msgid "For the purpose of this demonstration, let's import an initial dataset."
msgstr "为了这个演示的目的，让我们导入一个初始数据集。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:709
#, fuzzy
msgid "Let's create a `src/main/resources/import.sql` file with the following content:"
msgstr "让我们创建一个 `src/main/resources/import.sql` 文件，内容如下。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:715
#, no-wrap
msgid ""
"INSERT INTO author(id, firstname, lastname) VALUES (1, 'John', 'Irving');\n"
"INSERT INTO author(id, firstname, lastname) VALUES (2, 'Paul', 'Auster');\n"
"ALTER SEQUENCE author_seq RESTART WITH 3;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:730
#, no-wrap
msgid ""
"INSERT INTO book(id, title, author_id) VALUES (1, 'The World According to Garp', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (2, 'The Hotel New Hampshire', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (3, 'The Cider House Rules', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (4, 'A Prayer for Owen Meany', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (5, 'Last Night in Twisted River', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (6, 'In One Person', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (7, 'Avenue of Mysteries', 1);\n"
"INSERT INTO book(id, title, author_id) VALUES (8, 'The New York Trilogy', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (9, 'Mr. Vertigo', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (10, 'The Brooklyn Follies', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (11, 'Invisible', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (12, 'Sunset Park', 2);\n"
"INSERT INTO book(id, title, author_id) VALUES (13, '4 3 2 1', 2);\n"
"ALTER SEQUENCE book_seq RESTART WITH 14;\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:732
#, fuzzy, no-wrap
msgid "Time to play with your application"
msgstr "是时候玩玩你的应用程序了"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:735
#, fuzzy
msgid "You can now interact with your REST service:"
msgstr "现在你可以与你的REST服务进行交互。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:739
#, fuzzy
msgid "start your Quarkus application with:"
msgstr "用来启动你的Quarkus应用程序。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:742
#, fuzzy
msgid "open a browser to `http://localhost:8080/`"
msgstr "打开浏览器以 `<a href=\"http://localhost:8080/\" class=\"bare\">http://localhost:8080/</a>` "

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:743
#, fuzzy
msgid "search for authors or book titles (we initialized some data for you)"
msgstr "搜索作者或书名（我们为你初始化了一些数据）。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:744
#, fuzzy
msgid "create new authors and books and search for them too"
msgstr "创建新的作者和书籍，也可以搜索它们"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:748
#, fuzzy
msgid "As you can see, all your updates are automatically synchronized to the Elasticsearch cluster."
msgstr "正如你所看到的，你所有的更新都会自动同步到Elasticsearch集群。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:750
#, fuzzy, no-wrap
msgid "OpenSearch compatibility"
msgstr "OpenSearch的兼容性"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:755
#, fuzzy
msgid "Hibernate Search is compatible with both https://www.elastic.co/elasticsearch[Elasticsearch] and https://www.opensearch.org/[OpenSearch], but it assumes it is working with an Elasticsearch cluster by default."
msgstr "Hibernate Search与 link:https://www.elastic.co/elasticsearch[Elasticsearch] 和 link:https://www.opensearch.org/[OpenSearch] 都兼容，但它默认是在Elasticsearch集群中工作。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:759
#, fuzzy
msgid "To have Hibernate Search work with an OpenSearch cluster instead, link:{hibernate-search-docs-url}#backend-elasticsearch-configuration-version[prefix the configured version with `opensearch:`], as shown below."
msgstr "要让 Hibernate Search 与 OpenSearch 集群一起工作，可以在 link:{hibernate-search-doc-prefix}#backend-elasticsearch-configuration-version[配置的版本前加上 `opensearch:` ，] 如下图所示。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:763
#, no-wrap
msgid "quarkus.hibernate-search-orm.elasticsearch.version=opensearch:1.2\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:766
#, fuzzy
msgid "All other configuration options and APIs are exactly the same as with Elasticsearch."
msgstr "所有其他配置选项和API都与Elasticsearch完全相同。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:769
#, fuzzy
msgid "You can find more information about compatible distributions and versions of Elasticsearch in link:{hibernate-search-docs-url}#compatibility[this section of Hibernate Search's reference documentation]."
msgstr "你可以在 link:{hibernate-search-doc-prefix}#getting-started-compatibility[Hibernate Search参考文档的这一部分] 中找到更多关于Elasticsearch的兼容分布和版本的信息。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:771
#, fuzzy, no-wrap
msgid "Multiple persistence units"
msgstr "多个持久性单元"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:773
#, fuzzy, no-wrap
msgid "Configuring multiple persistence units"
msgstr "配置多个持久性单元"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:778
#, fuzzy
msgid "With the Hibernate ORM extension, xref:hibernate-orm.adoc#multiple-persistence-units[you can set up multiple persistence units], each with its own datasource and configuration."
msgstr "通过Hibernate ORM扩展， link:hibernate-orm.html#multiple-persistence-units[你可以设置多个持久化单元] ，每个单元有自己的数据源和配置。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:781
#, fuzzy
msgid "If you do declare multiple persistence units, you will also configure Hibernate Search separately for each persistence unit."
msgstr "如果你确实声明了多个持久化单元，你也将为每个持久化单元分别配置Hibernate Search。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:785
#, fuzzy
msgid "The properties at the root of the `quarkus.hibernate-search-orm.` namespace define the default persistence unit.  For instance, the following snippet defines a default datasource and a default persistence unit, and sets the Elasticsearch host for that persistence unit to `es1.mycompany.com:9200`."
msgstr " `quarkus.hibernate-search-orm.` 命名空间根部的属性定义了默认持久化单元。例如，下面的片段定义了一个默认的数据源和一个默认的持久化单元，并为该持久化单元设置Elasticsearch主机为 `es1.mycompany.com:9200` 。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:790
#, no-wrap
msgid ""
"quarkus.datasource.db-kind=h2\n"
"quarkus.datasource.jdbc.url=jdbc:h2:mem:default;DB_CLOSE_DELAY=-1\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:793
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.elasticsearch.hosts=es1.mycompany.com:9200\n"
"quarkus.hibernate-search-orm.elasticsearch.version=8\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:796
#, fuzzy
msgid "Using a map based approach, it is also possible to configure named persistence units:"
msgstr "使用基于地图的方法，也有可能配置命名的持久化单元。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:801
#, no-wrap
msgid ""
"quarkus.datasource.\"users\".db-kind=h2 <1>\n"
"quarkus.datasource.\"users\".jdbc.url=jdbc:h2:mem:users;DB_CLOSE_DELAY=-1\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:804
#, no-wrap
msgid ""
"quarkus.datasource.\"inventory\".db-kind=h2 <2>\n"
"quarkus.datasource.\"inventory\".jdbc.url=jdbc:h2:mem:inventory;DB_CLOSE_DELAY=-1\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:807
#, no-wrap
msgid ""
"quarkus.hibernate-orm.\"users\".datasource=users <3>\n"
"quarkus.hibernate-orm.\"users\".packages=org.acme.model.user\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:810
#, no-wrap
msgid ""
"quarkus.hibernate-orm.\"inventory\".datasource=inventory <4>\n"
"quarkus.hibernate-orm.\"inventory\".packages=org.acme.model.inventory\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:813
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.\"users\".elasticsearch.hosts=es1.mycompany.com:9200 <5>\n"
"quarkus.hibernate-search-orm.\"users\".elasticsearch.version=8\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:816
#, no-wrap
msgid ""
"quarkus.hibernate-search-orm.\"inventory\".elasticsearch.hosts=es2.mycompany.com:9200 <6>\n"
"quarkus.hibernate-search-orm.\"inventory\".elasticsearch.version=8\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:818
#, fuzzy
msgid "Define a datasource named `users`."
msgstr "定义一个名为 `users` 的数据源。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:819
#, fuzzy
msgid "Define a datasource named `inventory`."
msgstr "定义一个名为 `inventory` 的数据源。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:820
#, fuzzy
msgid "Define a persistence unit called `users` pointing to the `users` datasource."
msgstr "定义一个名为 `users` 的持久化单元，指向 `users` 数据源。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:821
#, fuzzy
msgid "Define a persistence unit called `inventory` pointing to the `inventory` datasource."
msgstr "定义一个名为 `inventory` 的持久化单元，指向 `inventory` 数据源。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:823
#, fuzzy
msgid "Configure Hibernate Search for the `users` persistence unit, setting the Elasticsearch host for that persistence unit to `es1.mycompany.com:9200`."
msgstr "为 `users` 持久化单元配置Hibernate Search，为该持久化单元设置Elasticsearch主机为 `es1.mycompany.com:9200` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:825
#, fuzzy
msgid "Configure Hibernate Search for the `inventory` persistence unit, setting the Elasticsearch host for that persistence unit to `es2.mycompany.com:9200`."
msgstr "为 `inventory` 持久化单元配置Hibernate Search，为该持久化单元设置Elasticsearch主机为 `es2.mycompany.com:9200` 。"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:827
#, fuzzy, no-wrap
msgid "Attaching model classes to persistence units"
msgstr "将模型类附加到持久性单元"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:832
#, fuzzy
msgid "For each persistence unit, Hibernate Search will only consider indexed entities that are attached to that persistence unit.  Entities are attached to a persistence unit by xref:hibernate-orm.adoc#multiple-persistence-units-attaching-model-classes[configuring the Hibernate ORM extension]."
msgstr "对于每个持久化单元，Hibernate Search将只考虑附属于该持久化单元的索引实体。实体是通过 link:hibernate-orm.html#multiple-persistence-units-attaching-model-classes[配置Hibernate ORM扩展] 附加到持久化单元的。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:834
#, fuzzy, no-wrap
msgid "CDI integration"
msgstr "CDI整合"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:837
#, fuzzy
msgid "You can inject Hibernate Search's main entry points, `SearchSession` and `SearchMapping`, using CDI:"
msgstr "你可以使用CDI注入Hibernate Search的主要入口点， `SearchSession` 和 `SearchMapping` 。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:842
#, no-wrap
msgid ""
"@Inject\n"
"SearchSession searchSession;\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:845
#, fuzzy
msgid "This will inject the `SearchSession` of the default persistence unit."
msgstr "这将注入默认持久化单元的 `SearchSession` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:848
#, fuzzy
msgid "To inject the `SearchSession` of a named persistence unit (`users` in our example), just add a qualifier:"
msgstr "要注入一个命名的持久化单元（ `users` 在我们的例子中）的 `SearchSession` ，只需添加一个限定词。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:854
#, no-wrap
msgid ""
"@Inject\n"
"@PersistenceUnit(\"users\") <1>\n"
"SearchSession searchSession;\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:856
#, fuzzy
msgid "This is the `@io.quarkus.hibernate.orm.PersistenceUnit` annotation."
msgstr "这就是 `@io.quarkus.hibernate.orm.PersistenceUnit` 注释。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:858
#, fuzzy
msgid "You can inject the `SearchMapping` of a named persistence unit using the exact same mechanism:"
msgstr "你可以使用完全相同的机制注入一个命名的持久化单元的 `SearchMapping` 。"

#. type: delimited block -
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:864
#, no-wrap
msgid ""
"@Inject\n"
"@PersistenceUnit(\"users\")\n"
"SearchMapping searchMapping;\n"
msgstr ""

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:866
#, fuzzy, no-wrap
msgid "Building a native executable"
msgstr "构建一个本地可执行文件"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:869
#, fuzzy
msgid "You can build a native executable with the usual command:"
msgstr "你可以用通常的命令建立一个本地可执行文件 `./mvnw package -Pnative` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:875
#, fuzzy
msgid "As usual with native executable compilation, this operation consumes a lot of memory."
msgstr "与本地可执行文件的编译一样，这个操作会消耗大量的内存。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:877
#, fuzzy
msgid "It might be safer to stop the two containers while you are building the native executable and start them again once you are done."
msgstr "在你构建本地可执行文件时停止这两个容器，一旦完成后再启动它们，可能更安全。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:880
#, fuzzy
msgid "Running it is as simple as executing `./target/hibernate-search-orm-elasticsearch-quickstart-1.0.0-SNAPSHOT-runner`."
msgstr "运行它就像执行 `./target/hibernate-search-orm-elasticsearch-quickstart-1.0.0-SNAPSHOT-runner` 一样简单。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:882
#, fuzzy
msgid "You can then point your browser to `http://localhost:8080/` and use your application."
msgstr "然后你可以将你的浏览器指向 `<a href=\"http://localhost:8080/\" class=\"bare\">http://localhost:8080/</a>` 并使用你的应用程序。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:887
#, fuzzy
msgid "The startup is a bit slower than usual: it is mostly due to us dropping and recreating the database schema and the Elasticsearch mapping every time at startup.  We also inject some data and execute the mass indexer."
msgstr "启动的速度比平时慢一些：这主要是由于我们在启动时每次都会放弃并重新创建数据库模式和Elasticsearch映射。我们还注入了一些数据，并执行了大规模索引器。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:889
#, fuzzy
msgid "In a real life application, it is obviously something you won't do at startup."
msgstr "在现实生活中的应用中，这显然是你在启动时不会做的事情。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:892
#, fuzzy, no-wrap
msgid "Offline startup"
msgstr "离线启动"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:897
#, fuzzy
msgid "By default, Hibernate Search sends a few requests to the Elasticsearch cluster on startup.  If the Elasticsearch cluster is not necessarily up and running when Hibernate Search starts, this could cause a startup failure."
msgstr "默认情况下，Hibernate Search会在启动时向Elasticsearch集群发送一些请求。如果Hibernate Search启动时，Elasticsearch集群不一定已经启动并运行，这可能会导致启动失败。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:899
#, fuzzy
msgid "To address this, you can configure Hibernate Search to not send any request on startup:"
msgstr "为了解决这个问题，你可以将Hibernate Search配置为在启动时不发送任何请求。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:903
#, fuzzy
msgid "Disable Elasticsearch version checks on startup by setting the configuration property link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.elasticsearch.version-check.enabled[`quarkus.hibernate-search-orm.elasticsearch.version-check.enabled`] to `false`."
msgstr "通过设置配置属性，在启动时禁用Elasticsearch的版本检查 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.elasticsearch.version-check.enabled[`quarkus.hibernate-search-orm.elasticsearch.version-check.enabled`] 为 `false` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:906
#, fuzzy
msgid "Disable schema management on startup by setting the configuration property link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] to `none`."
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:909
#, fuzzy
msgid "Of course, even with this configuration, Hibernate Search still won't be able to index anything or run search queries until the Elasticsearch cluster becomes accessible."
msgstr "当然，即使是这样的配置，Hibernate Search仍然无法索引任何东西或运行搜索查询，直到Elasticsearch集群可以访问。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:915
#, fuzzy
msgid "If you disable automatic schema creation by setting `quarkus.hibernate-search-orm.schema-management.strategy` to `none`, you will have to create the schema manually at some point before your application starts persisting/updating entities and executing search requests."
msgstr "如果你通过将 `quarkus.hibernate-search-orm.schema-management.strategy` 设置为 `none` 来禁止自动创建模式，那么在你的应用程序开始持久化/更新实体和执行搜索请求之前，你将不得不在某个时候手动创建模式。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:918
#, fuzzy
msgid "See link:{hibernate-search-docs-url}#schema-management-manager[this section of the reference documentation] for more information."
msgstr "更多信息见 link:{hibernate-search-doc-prefix}#mapper-orm-schema-management-manager[参考文件的这一部分] 。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:921
#, fuzzy, no-wrap
msgid "Coordination through outbox polling"
msgstr "通过发件箱投票进行协调"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:926
#, fuzzy
msgid "Coordination through outbox polling is considered preview."
msgstr "通过发件箱投票的协调被认为是预览。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:932
#, fuzzy
msgid "In _preview_, backward compatibility and presence in the ecosystem is not guaranteed.  Specific improvements might require changing configuration or APIs, or even storage formats, and plans to become _stable_ are under way.  Feedback is welcome on our https://groups.google.com/d/forum/quarkus-dev[mailing list] or as issues in our https://github.com/quarkusio/quarkus/issues[GitHub issue tracker]."
msgstr "在 _预览_ 中，不保证向后兼容和在生态系统中的存在。具体的改进可能需要改变配置或API，甚至是存储格式，并且正在计划变得 _稳定_ 。欢迎在我们的 link:https://groups.google.com/d/forum/quarkus-dev[邮件列表] 中提供反馈，或在我们的 link:https://github.com/quarkusio/quarkus/issues[GitHub问题跟踪器] 中作为问题。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:937
#, fuzzy
msgid "While it’s technically possible to use Hibernate Search and Elasticsearch in distributed applications, by default they suffer from link:{hibernate-search-docs-url}#architecture-examples-no-coordination-elasticsearch-pros-and-cons[a few limitations]."
msgstr "虽然在技术上可以在分布式应用中使用Hibernate Search和Elasticsearch，但在默认情况下，它们存在 link:{hibernate-search-doc-prefix}#architecture-examples-no-coordination-elasticsearch-pros-and-cons[一些限制] 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:939
#, fuzzy
msgid "These limitations are the result of Hibernate Search not coordinating between threads or application nodes by default."
msgstr "这些限制是Hibernate Search默认不在线程或应用节点之间协调的结果。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:944
#, fuzzy
msgid "In order to get rid of these limitations, you can link:{hibernate-search-docs-url}#architecture-examples-outbox-polling-elasticsearch[use the `outbox-polling` coordination strategy].  This strategy creates an outbox table in the database to push entity change events to, and relies on a background processor to consume these events and perform indexing."
msgstr "为了摆脱这些限制，你可以 link:{hibernate-search-doc-prefix}#architecture-examples-outbox-polling-elasticsearch[使用 `outbox-polling` 协调策略] 。这个策略在数据库中创建了一个发件箱表来推送实体变化事件，并依靠后台处理器来消费这些事件并执行自动索引。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:946
#, fuzzy
msgid "To enable the `outbox-polling` coordination strategy, an additional extension is required:"
msgstr "为了启用 `outbox-polling` 协调战略，需要一个额外的扩展。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:953
#, fuzzy
msgid "Once the extension is there, you will need to explicitly select the `outbox-polling` strategy by setting link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.coordination.strategy[`quarkus.hibernate-search-orm.coordination.strategy`] to `outbox-polling`."
msgstr "一旦有了扩展，你将需要明确地选择 `outbox-polling` 策略，设置为 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.coordination.strategy[`quarkus.hibernate-search-orm.coordination.strategy`] 为 `outbox-polling` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:956
#, fuzzy
msgid "Finally, you will need to make sure that the Hibernate ORM entities added by Hibernate Search (to represent the outbox and agents) have corresponding tables/sequences in your database:"
msgstr "最后，你需要确保由Hibernate Search添加的Hibernate ORM实体（代表发件箱和代理）在你的数据库中有相应的表/序列。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:960
#, fuzzy
msgid "If you are just starting with your application and intend to xref:hibernate-orm.adoc#dev-mode[let Hibernate ORM generate your database schema], then no worries: the entities required by Hibernate Search will be included in the generated schema."
msgstr "如果你刚开始使用你的应用程序，并打算 link:hibernate-orm.html#dev-mode[让Hibernate ORM生成你的数据库模式] ，那么不用担心：Hibernate搜索所需的实体将包括在生成的模式中。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:962
#, fuzzy
msgid "Otherwise, you must link:{hibernate-search-docs-url}#coordination-outbox-polling-schema[manually alter your schema to add the necessary tables/sequences]."
msgstr "否则，你必须 link:{hibernate-search-doc-prefix}#coordination-outbox-polling-schema[手动改变你的模式，添加必要的表/序列] 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:967
msgid "The database schema Hibernate Search will expect for outbox-polling coordination may be customized through the following configuration properties:"
msgstr ""

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:969
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.agent.catalog[`quarkus.hibernate-search-orm.coordination.entity.mapping.agent.catalog`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:970
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.agent.schema[`quarkus.hibernate-search-orm.coordination.entity.mapping.agent.schema`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:971
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.agent.table[`quarkus.hibernate-search-orm.coordination.entity.mapping.agent.table`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:972
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.agent.uuid-gen-strategy[`quarkus.hibernate-search-orm.coordination.entity.mapping.agent.uuid-gen-strategy`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:973
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.agent.uuid-type[`quarkus.hibernate-search-orm.coordination.entity.mapping.agent.uuid-type`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:974
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.catalog[`quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.catalog`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:975
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.schema[`quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.schema`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:976
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.table[`quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.table`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:977
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.uuid-gen-strategy[`quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.uuid-gen-strategy`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:978
#, fuzzy
msgid "link:#quarkus-hibernate-search-orm-coordination-outboxpolling_quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.uuid-type[`quarkus.hibernate-search-orm.coordination.entity.mapping.outbox-event.uuid-type`]"
msgstr "通过将配置属性设置为，在启动时禁用模式管理。 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.schema-management.strategy[`quarkus.hibernate-search-orm.schema-management.strategy`] 为 `none` 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:985
#, fuzzy
msgid "Once you are done with the above, you're ready to use Hibernate Search with an outbox.  Don't change any code, and just start your application: it will automatically detect when multiple applications are connected to the same database, and coordinate the index updates accordingly."
msgstr "一旦你完成了上述工作，你就可以使用带有发件箱的Hibernate搜索。不要改变任何代码，只需启动你的应用程序：当多个应用程序连接到同一个数据库时，它会自动检测，并相应地协调索引的更新。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:990
#, fuzzy
msgid "Hibernate Search mostly behaves the same when using the `outbox-polling` coordination strategy as when not using it: application code (persisting entities, searching, etc.) should not require any change."
msgstr "Hibernate搜索在使用 `outbox-polling` 协调策略时与不使用该策略时的表现大多相同：应用程序代码（持久化实体、搜索等）应该不需要任何改变。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:993
#, fuzzy
msgid "However, there is one key difference: index updates are necessarily asynchronous; they are guaranteed to happen _eventually_, but not immediately."
msgstr "然而，有一个关键的区别：索引更新必然是异步的；它们被保证 _最终_ 会发生，但不是立即发生。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:998
#, fuzzy
msgid "This means in particular that the configuration property link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy[`quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy`] cannot be set when using the `outbox-polling` coordination strategy: Hibernate Search will always behave as if this property was set to `write-sync` (the default)."
msgstr "这尤其意味着配置属性 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy[`quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy`] 在使用 `outbox-polling` 协调策略时不能被设置。Hibernate Search将始终表现为该属性被设置为 `write-sync` （默认）。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1002
#, fuzzy
msgid "This behavior is consistent with Elasticsearch's https://www.elastic.co/guide/en/elasticsearch/reference/current/near-real-time.html[near-real-time search] and the recommended way of using Hibernate Search even when coordination is disabled."
msgstr "这种行为与Elasticsearch的 link:https://www.elastic.co/guide/en/elasticsearch/reference/current/near-real-time.html[近实时搜索] 和推荐的使用Hibernate搜索的方式一致，即使协调被禁用。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1006
#, fuzzy
msgid "For more information about coordination in Hibernate Search, see link:{hibernate-search-docs-url}#coordination[this section of the reference documentation]."
msgstr "关于Hibernate Search中协调的更多信息，请参见 link:{hibernate-search-doc-prefix}#coordination[参考文档的这一部分] 。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1009
#, fuzzy
msgid "For more information about configuration options related to coordination, see xref:configuration-reference-coordination-outbox-polling[Configuration of coordination with outbox polling]."
msgstr "关于与协调有关的配置选项的更多信息，请参见 link:#configuration-reference-coordination-outbox-polling[[配置-参考-协调-外箱投票]] 。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1011
#, fuzzy, no-wrap
msgid "[[configuration-reference-aws]] AWS request signing"
msgstr "link:[, id=\"configuration-reference-aws\"] AWS请求签署"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1015
#, fuzzy
msgid "If you need to use https://docs.aws.amazon.com/elasticsearch-service/[Amazon’s managed Elasticsearch service], you will find it requires a proprietary authentication method involving request signing."
msgstr "如果你需要使用 link:https://docs.aws.amazon.com/elasticsearch-service/[亚马逊管理的Elasticsearch服务] ，你会发现它需要一种涉及请求签名的专有认证方法。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1017
#, fuzzy
msgid "You can enable AWS request signing in Hibernate Search by adding a dedicated extension to your project and configuring it."
msgstr "你可以在Hibernate搜索中启用AWS请求签名，方法是在你的项目中添加一个专门的扩展并对其进行配置。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1020
#, fuzzy
msgid "See link:{hibernate-search-orm-elasticsearch-aws-guide}#aws-configuration-reference[the documentation for the Hibernate Search ORM + Elasticsearch AWS extension] for more information."
msgstr "更多信息请参见 link:{hibernate-search-orm-elasticsearch-aws-guide}#aws-configuration-reference[Hibernate Search ORM + Elasticsearch AWS扩展的文档] 。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1021
#, fuzzy, no-wrap
msgid "Further reading"
msgstr "进一步阅读"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1025
#, fuzzy
msgid "If you are interested in learning more about Hibernate Search 6, the Hibernate team publishes link:{hibernate-search-docs-url}[an extensive reference documentation]."
msgstr "如果你有兴趣了解更多关于Hibernate Search 6的信息，Hibernate团队发布了 link:{hibernate-search-doc-prefix}[大量的参考文档] 。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1026
#, fuzzy, no-wrap
msgid "FAQ"
msgstr "常见问题"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1028
#, fuzzy, no-wrap
msgid "Why Elasticsearch only?"
msgstr "为什么只有Elasticsearch？"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1031
#, fuzzy
msgid "Hibernate Search supports both a Lucene backend and an Elasticsearch backend."
msgstr "Hibernate Search同时支持Lucene后端和Elasticsearch后端。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1034
#, fuzzy
msgid "In the context of Quarkus and to build microservices, we thought the latter would make more sense.  Thus, we focused our efforts on it."
msgstr "在Quarkus的背景下，为了构建微服务，我们认为后者更有意义。因此，我们把精力集中在它上面。"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1036
#, fuzzy
msgid "We don't have plans to support the Lucene backend in Quarkus for now."
msgstr "我们暂时没有计划在Quarkus中支持Lucene后端。"

#. type: Title ==
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1038
#, fuzzy, no-wrap
msgid "Hibernate Search Configuration Reference"
msgstr "Hibernate搜索配置参考"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1041
#, fuzzy, no-wrap
msgid "Main Configuration"
msgstr "主要配置"

#. type: Block title
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1047
#, fuzzy, no-wrap
msgid "About bean references"
msgstr "关于豆类参考文献"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1050
#, fuzzy
msgid "When referencing beans using a string value in configuration properties, that string is parsed."
msgstr "当使用配置属性中的字符串值引用Bean时，该字符串会被解析。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1052
#, fuzzy
msgid "Here are the most common formats:"
msgstr "以下是最常见的格式。"

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1055
#, fuzzy
msgid "`bean:` followed by the name of a `@Named` CDI bean.  For example `bean:myBean`."
msgstr " `bean:` 后面是一个 CDI Bean的名字。例如， 。 `@Named` `bean:myBean` "

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1058
#, fuzzy
msgid "`class:` followed by the fully-qualified name of a class, to be instantiated through CDI if it's a CDI bean, or through its public, no-argument constructor otherwise.  For example `class:com.mycompany.MyClass`."
msgstr " `class:` 后面是一个类的全称，如果它是一个CDI Bean，则通过CDI实例化，否则通过其公共的无参数构造函数实例化。例如： 。 `class:com.mycompany.MyClass` "

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1062
#, fuzzy
msgid "An arbitrary string referencing a built-in implementation.  Available values are detailed in the documentation of each configuration property, such as `async`/`read-sync`/`write-sync`/`sync` for xref:quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy[`quarkus.hibernate-search-orm.indexing.plan.synchronization.strategy`]."
msgstr "一个任意的字符串，引用一个内置的实现。可用的值在每个配置属性的文档中都有详细说明，例如： `async` / `read-sync` / `write-sync` / `sync` ，用于 link:#quarkus-hibernate-search-orm-elasticsearch_quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy[`quarkus.hibernate-search-orm.automatic-indexing.synchronization.strategy`] ."

#. type: delimited block =
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1066
#, fuzzy
msgid "Other formats are also accepted, but are only useful for advanced use cases.  See link:{hibernate-search-docs-url}#configuration-bean-reference-parsing[this section of Hibernate Search's reference documentation] for more information."
msgstr "其他格式也可以接受，但只对高级用例有用。更多信息请参见 link:{hibernate-search-doc-prefix}#configuration-bean-reference-parsing[Hibernate Search参考文档的这一部分] 。"

#. type: Title ===
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1070
#, fuzzy, no-wrap
msgid "Configuration of coordination with outbox polling"
msgstr "配置与发件箱轮询的协调"

#. type: Plain text
#: upstream/_guides/hibernate-search-orm-elasticsearch.adoc:1073
msgid "These configuration properties require an additional extension. See xref:coordination[Coordination through outbox polling]."
msgstr ""

#, fuzzy
#~ msgid "We will need to reference the configurer from the configuration properties, so we make it a named bean."
#~ msgstr "我们将需要从配置属性中引用configurer，所以我们把它变成一个命名的bean。"

#, fuzzy
#~ msgid "We will drop and recreate the schema every time we start the application."
#~ msgstr "我们将在每次启动应用程序时放弃并重新创建该模式。"

#, fuzzy
#~ msgid "We point to the custom `AnalysisConfigurer` which defines the configuration of our analyzers and normalizers."
#~ msgstr "我们指向自定义的 `AnalysisConfigurer` ，它定义了我们分析器和规范化器的配置。"

#, fuzzy
#~ msgid "Obviously, this is not for production: we drop and recreate the index every time we start the application."
#~ msgstr "很明显，这不适合生产：我们每次启动应用程序时都要放弃并重新创建索引。"
