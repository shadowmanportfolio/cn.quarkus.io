# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2022-10-19 15:15+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. This guide is maintained in the main Quarkus repository
#. and pull requests should be submitted there:
#. https://github.com/quarkusio/quarkus/tree/main/docs/src/main/asciidoc
#. type: Title =
#: upstream/_guides/writing-native-applications-tips.adoc:6
#, fuzzy, no-wrap
msgid "Tips for writing native applications"
msgstr "编写本地应用程序的提示"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:12
#, fuzzy
msgid "This guide contains various tips and tricks for getting around problems that might arise when attempting to run Java applications as native executables."
msgstr "本指南包含各种提示和技巧，以解决在尝试以本地可执行文件形式运行Java应用程序时可能出现的问题。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:14
#, fuzzy
msgid "Note that we differentiate two contexts where the solution applied might be different:"
msgstr "请注意，我们区分了两种情况，适用的解决方案可能是不同的。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:16
#, fuzzy
msgid "in the context of an application, you will rely on configuring the `native-image` configuration by tweaking your `pom.xml`;"
msgstr "在一个应用程序的背景下，你将依靠配置 `native-image` ，通过调整你的 `pom.xml` 。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:17
#, fuzzy
msgid "in the context of an extension, Quarkus offers a lot of infrastructure to simplify all of this."
msgstr "在扩展的背景下，Quarkus提供了很多基础设施来简化这一切。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:19
#, fuzzy
msgid "Please refer to the appropriate section depending on your context."
msgstr "请根据你的情况，参考适当的章节。"

#. type: Title ==
#: upstream/_guides/writing-native-applications-tips.adoc:20
#, fuzzy, no-wrap
msgid "Supporting native in your application"
msgstr "在你的应用程序中支持本机"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:23
#, fuzzy
msgid "GraalVM imposes a number of constraints and making your application a native executable might require a few tweaks."
msgstr "GraalVM施加了一些限制，使你的应用程序成为本地可执行文件可能需要进行一些调整。"

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:24
#: upstream/_guides/writing-native-applications-tips.adoc:618
#, fuzzy, no-wrap
msgid "Including resources"
msgstr "包括资源"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:28
#, fuzzy
msgid "By default, when building a native executable, GraalVM will not include any of the resources that are on the classpath into the native executable it creates.  Resources that are meant to be part of the native executable need to be configured explicitly."
msgstr "默认情况下，在构建本地可执行文件时，GraalVM不会将classpath上的任何资源纳入其创建的本地可执行文件。要成为本地可执行文件一部分的资源，需要明确地进行配置。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:30
#, fuzzy
msgid "Quarkus automatically includes the resources present in `META-INF/resources` (the web resources) but, outside this directory, you are on your own."
msgstr "Quarkus自动包括存在于 `META-INF/resources` （网络资源）的资源，但是，在这个目录之外，你就得靠自己了。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:35
#, fuzzy
msgid "Note that you need to be extremely careful here as anything in `META-INF/resources` will be exposed as static web resources.  So this directory is not a shortcut for \"let's automatically include these resources in the native executable\" and should only be used for static web resources."
msgstr "请注意，你在这里需要非常小心，因为 `META-INF/resources` 中的任何东西都会作为静态网络资源暴露出来。所以这个目录不是 \"让我们自动把这些资源包含在本地可执行文件中 \"的捷径，而应该只用于静态网络资源。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:37
#, fuzzy
msgid "Other resources should be declared explicitly."
msgstr "其他资源应明确声明。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:41
#, fuzzy
msgid "To include more resources in the native executable, the easiest way is to use the `quarkus.native.resources.includes` configuration property, and its counterpart to exclude resources `quarkus.native.resources.excludes`."
msgstr "要在本地可执行文件中包含更多的资源，最简单的方法是使用 `quarkus.native.resources.includes` 配置属性，及其对应的排除资源 `quarkus.native.resources.excludes` 。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:43
#, fuzzy
msgid "Both configuration properties support glob patterns."
msgstr "这两个配置属性都支持glob模式。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:45
#, fuzzy
msgid "For instance, having the following properties in your `application.properties`:"
msgstr "例如，在你的 `application.properties` ，有以下属性。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:50
#, no-wrap
msgid ""
"quarkus.native.resources.includes=foo/**,bar/**/*.txt\n"
"quarkus.native.resources.excludes=foo/private/**\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:53
#, fuzzy
msgid "will include:"
msgstr "将包括。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:55
#, fuzzy
msgid "all files in the `foo/` directory and its subdirectories except for files in `foo/private/` and its subdirectories,"
msgstr " `foo/` 目录及其子目录中的所有文件，但 `foo/private/` 及其子目录中的文件除外。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:56
#, fuzzy
msgid "all text files in the `bar/` directory and its subdirectories."
msgstr " `bar/` 目录及其子目录下的所有文本文件。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:59
#, fuzzy
msgid "If globs are not sufficiently precise for your use case and you need to rely on regular expressions, or if you prefer relying on the GraalVM infrastructure, you can also create a `resources-config.json` (the most common location is within `src/main/resources`) JSON file defining which resources should be included:"
msgstr "如果globs对于你的使用情况来说不够精确，你需要依靠正则表达式，或者你更喜欢依靠GraalVM的基础设施，你也可以创建一个 `resources-config.json` （最常见的位置是在 `src/main/resources` ）JSON文件，定义哪些资源应该被包含。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:72
#, no-wrap
msgid ""
"{\n"
"  \"resources\": [\n"
"    {\n"
"      \"pattern\": \".*\\\\.xml$\"\n"
"    },\n"
"    {\n"
"      \"pattern\": \".*\\\\.json$\"\n"
"    }\n"
"  ]\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:76
#, fuzzy
msgid "The patterns are valid Java regexps.  Here we include all the XML files and JSON files into the native executable."
msgstr "这些模式都是有效的Java重组函数。在这里，我们将所有的XML文件和JSON文件纳入本地可执行文件。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:80
#, fuzzy
msgid "You can find more information about this topic in https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md[the GraalVM documentation]."
msgstr "你可以在 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md[GraalVM文档] 中找到更多关于这个主题的信息。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:83
#: upstream/_guides/writing-native-applications-tips.adoc:252
#, fuzzy
msgid "The final order of business is to make the configuration file known to the `native-image` executable by adding the proper configuration to `application.properties`:"
msgstr "最后一项工作是通过向 `application.properties` 添加适当的配置，使配置文件为 `native-image` 可执行文件所知。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:87
#, no-wrap
msgid "quarkus.native.additional-build-args =-H:ResourceConfigurationFiles=resources-config.json\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:91
#, fuzzy
msgid "In the previous snippet we were able to simply use `resources-config.json` instead of specifying the entire path of the file simply because it was added to `src/main/resources`.  If the file had been added to another directory, the proper file path would have had to be specified manually."
msgstr "在前面的片段中，我们能够简单地使用 `resources-config.json` ，而不是指定文件的整个路径，只是因为它被添加到了 `src/main/resources` 。如果该文件被添加到了另一个目录，就必须手动指定适当的文件路径。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:95
#: upstream/_guides/writing-native-applications-tips.adoc:264
#, fuzzy
msgid "Multiple options may be separated by a comma. For example, one could use:"
msgstr "多个选项可以用逗号隔开。例如，人们可以使用。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:101
#: upstream/_guides/writing-native-applications-tips.adoc:270
#, no-wrap
msgid ""
"quarkus.native.additional-build-args =\\\n"
"    -H:ResourceConfigurationFiles=resources-config.json,\\\n"
"    -H:ReflectionConfigurationFiles=reflection-config.json\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:104
#: upstream/_guides/writing-native-applications-tips.adoc:273
#, fuzzy
msgid "in order to ensure that various resources are included and additional reflection is registered."
msgstr "以确保各种资源被包括在内，并登记了额外的反映。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:107
#: upstream/_guides/writing-native-applications-tips.adoc:276
#, fuzzy
msgid "If for some reason adding the aforementioned configuration to `application.properties` is not desirable, it is possible to configure the build tool to effectively perform the same operation."
msgstr "如果由于某种原因，将上述配置添加到 `application.properties` ，是不可取的，可以通过配置构建工具来有效地执行相同的操作。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:109
#: upstream/_guides/writing-native-applications-tips.adoc:278
#, fuzzy
msgid "When using Maven, we could use the following configuration:"
msgstr "使用Maven时，我们可以使用以下配置。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:121
#, no-wrap
msgid ""
"<profiles>\n"
"    <profile>\n"
"        <id>native</id>\n"
"        <properties>\n"
"            <quarkus.package.type>native</quarkus.package.type>\n"
"            <quarkus.native.additional-build-args>-H:ResourceConfigurationFiles=resources-config.json</quarkus.native.additional-build-args>\n"
"        </properties>\n"
"    </profile>\n"
"</profiles>\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:123
#, fuzzy, no-wrap
msgid "Registering for reflection"
msgstr "登记反思"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:127
#, fuzzy
msgid "When building a native executable, GraalVM operates with a closed world assumption.  It analyzes the call tree and removes all the classes/methods/fields that are not used directly."
msgstr "在构建本地可执行文件时，GraalVM以封闭世界的假设进行操作。它分析调用树并删除所有不直接使用的类/方法/字段。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:130
#, fuzzy
msgid "The elements used via reflection are not part of the call tree so they are dead code eliminated (if not called directly in other cases).  To include these elements in your native executable, you need to register them for reflection explicitly."
msgstr "通过反射使用的元素不是调用树的一部分，所以它们是被消除的死代码（如果不是在其他情况下直接调用）。要在你的本地可执行文件中包含这些元素，你需要为反射明确地注册它们。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:132
#, fuzzy
msgid "This is a very common case as JSON libraries typically use reflection to serialize the objects to JSON:"
msgstr "这是一个非常常见的情况，因为JSON库通常使用反射来将对象序列化为JSON。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:138
#, no-wrap
msgid ""
"    public class Person {\n"
"        private String first;\n"
"        private String last;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:142
#, no-wrap
msgid ""
"        public String getFirst() {\n"
"            return first;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:146
#, no-wrap
msgid ""
"        public void setFirst(String first) {\n"
"            this.first = first;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:150
#, no-wrap
msgid ""
"        public String getLast() {\n"
"            return last;\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:155
#, no-wrap
msgid ""
"        public void setValue(String last) {\n"
"            this.last = last;\n"
"        }\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:160
#, no-wrap
msgid ""
"    @Path(\"/person\")\n"
"    @Produces(MediaType.APPLICATION_JSON)\n"
"    @Consumes(MediaType.APPLICATION_JSON)\n"
"    public class PersonResource {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:162
#, no-wrap
msgid "        private final Jsonb jsonb;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:166
#, no-wrap
msgid ""
"        public PersonResource() {\n"
"            jsonb = JsonbBuilder.create(new JsonbConfig());\n"
"        }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:172
#, no-wrap
msgid ""
"        @GET\n"
"        public Response list() {\n"
"            return Response.ok(jsonb.fromJson(\"{\\\"first\\\":  \\\"foo\\\", \\\"last\\\":  \\\"bar\\\"}\", Person.class)).build();\n"
"        }\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:175
#, fuzzy
msgid "If we were to use the code above, we would get an exception like the following when using the native executable:"
msgstr "如果我们使用上面的代码，在使用本地可执行文件时，我们会得到一个类似下面的异常。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:179
#, no-wrap
msgid "Exception handling request to /person: org.jboss.resteasy.spi.UnhandledException: javax.json.bind.JsonbException: Can't create instance of a class: class org.acme.jsonb.Person, No default constructor found\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:182
#, fuzzy
msgid "or if you are using Jackson:"
msgstr "或如果你在使用杰克逊。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:186
#, no-wrap
msgid "com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.acme.jsonb.Person and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:189
#, fuzzy
msgid "An even nastier possible outcome could be for no exception to be thrown, but instead the JSON result would be completely empty."
msgstr "一个更糟糕的结果是没有抛出异常，而JSON的结果是完全空的。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:191
#, fuzzy
msgid "There are two different ways to fix this type of issues."
msgstr "有两种不同的方法来解决这种类型的问题。"

#. type: Title ====
#: upstream/_guides/writing-native-applications-tips.adoc:193
#, fuzzy, no-wrap
msgid "Using the @RegisterForReflection annotation"
msgstr "使用@RegisterForReflection注解"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:196
#, fuzzy
msgid "The easiest way to register a class for reflection is to use the `@RegisterForReflection` annotation:"
msgstr "为反思注册一个类的最简单方法是使用 `@RegisterForReflection` 注解。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:202
#, no-wrap
msgid ""
"@RegisterForReflection\n"
"public class MyClass {\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:205
#, fuzzy
msgid "If your class is in a third-party jar, you can do it by using an empty class that will host the `@RegisterForReflection` for it."
msgstr "如果你的类在第三方的jar中，你可以通过使用一个空的类来做，这个空的类将为它托管 `@RegisterForReflection` 。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:211
#, no-wrap
msgid ""
"@RegisterForReflection(targets={ MyClassRequiringReflection.class, MySecondClassRequiringReflection.class})\n"
"public class MyReflectionConfiguration {\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:214
#, fuzzy
msgid "Note that `MyClassRequiringReflection` and `MySecondClassRequiringReflection` will be registered for reflection but not `MyReflectionConfiguration`."
msgstr "请注意， `MyClassRequiringReflection` 和 `MySecondClassRequiringReflection` 将被注册为反射，但不包括 `MyReflectionConfiguration` 。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:216
#, fuzzy
msgid "This feature is handy when using third-party libraries using object mapping features (such as Jackson or GSON):"
msgstr "在使用使用对象映射功能的第三方库（如Jackson或GSON）时，这个功能很方便。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:221
#, no-wrap
msgid ""
"@RegisterForReflection(targets = {User.class, UserImpl.class})\n"
"public class MyReflectionConfiguration {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:223
#: upstream/_guides/writing-native-applications-tips.adoc:611
#: upstream/_guides/writing-native-applications-tips.adoc:632
#: upstream/_guides/writing-native-applications-tips.adoc:654
#: upstream/_guides/writing-native-applications-tips.adoc:678
#, no-wrap
msgid "}\n"
msgstr ""

#. type: Title ====
#: upstream/_guides/writing-native-applications-tips.adoc:225
#, fuzzy, no-wrap
msgid "Using a configuration file"
msgstr "使用一个配置文件"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:228
#, fuzzy
msgid "You can use a configuration file to register classes for reflection."
msgstr "你可以使用一个配置文件来为反射注册类。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:230
#, fuzzy
msgid "As an example, in order to register all methods of class `com.acme.MyClass` for reflection, we create `reflection-config.json` (the most common location is within `src/main/resources`)"
msgstr "作为一个例子，为了注册类 `com.acme.MyClass` 的所有方法进行反射，我们创建 `reflection-config.json` （最常见的位置是在 `src/main/resources` 内）"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:244
#, no-wrap
msgid ""
"[\n"
"  {\n"
"    \"name\" : \"com.acme.MyClass\",\n"
"    \"allDeclaredConstructors\" : true,\n"
"    \"allPublicConstructors\" : true,\n"
"    \"allDeclaredMethods\" : true,\n"
"    \"allPublicMethods\" : true,\n"
"    \"allDeclaredFields\" : true,\n"
"    \"allPublicFields\" : true\n"
"  }\n"
"]\n"
msgstr ""

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:249
#, fuzzy
msgid "For more details on the format of this file, please refer to https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Reflection.md[the GraalVM documentation]."
msgstr "关于该文件格式的更多细节，请参考 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Reflection.md[GraalVM文档] 。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:256
#, no-wrap
msgid "quarkus.native.additional-build-args =-H:ReflectionConfigurationFiles=reflection-config.json\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:260
#, fuzzy
msgid "In the previous snippet we were able to simply use `reflection-config.json` instead of specifying the entire path of the file simply because it was added to `src/main/resources`.  If the file had been added to another directory, the proper file path would have had to be specified manually."
msgstr "在前面的片段中，我们能够简单地使用 `reflection-config.json` ，而不是指定文件的整个路径，只是因为它被添加到了 `src/main/resources` 。如果该文件被添加到了另一个目录，就必须手动指定适当的文件路径。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:290
#, no-wrap
msgid ""
"<profiles>\n"
"    <profile>\n"
"        <id>native</id>\n"
"        <properties>\n"
"            <quarkus.package.type>native</quarkus.package.type>\n"
"            <quarkus.native.additional-build-args>-H:ReflectionConfigurationFiles=reflection-config.json</quarkus.native.additional-build-args>\n"
"        </properties>\n"
"    </profile>\n"
"</profiles>\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:293
#, fuzzy, no-wrap
msgid "Delaying class initialization"
msgstr "推迟类的初始化"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:296
#, fuzzy
msgid "By default, Quarkus initializes all classes at build time."
msgstr "默认情况下，Quarkus在构建时初始化所有类。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:299
#, fuzzy
msgid "There are cases where the initialization of certain classes is done in a static block needs to be postponed to runtime.  Typically, omitting such configuration would result in a runtime exception like the following:"
msgstr "有些情况下，某些类的初始化是在静态块中完成的，需要推迟到运行时。通常情况下，省略这样的配置会导致运行时的异常，如下所示。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:306
#, no-wrap
msgid ""
"Error: No instances are allowed in the image heap for a class that is initialized or reinitialized at image runtime: sun.security.provider.NativePRNG\n"
"Trace: object java.security.SecureRandom\n"
"method com.amazonaws.services.s3.model.CryptoConfiguration.<init>(CryptoMode)\n"
"Call path from entry point to com.amazonaws.services.s3.model.CryptoConfiguration.<init>(CryptoMode):\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:309
#, fuzzy
msgid "Another common source of errors is when the image heap taken by GraalVM contains a `Random`/`SplittableRandom` instance:"
msgstr "另一个常见的错误来源是，当GraalVM采取的图像堆包含一个 `Random` / `SplittableRandom` 实例。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:313
#, no-wrap
msgid "Error: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: Detected an instance of Random/SplittableRandom class in the image heap. Instances created during image generation have cached seed values and don't behave as expected.\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:317
#, fuzzy
msgid "Which is more often than not caused by Quarkus initializing at build time a class with a static `Random`/`SplittableRandom` field, causing this particular instance to be tentatively included in the image heap."
msgstr "这往往是由于Quarkus在构建时初始化了一个带有静态 `Random` / `SplittableRandom` 字段的类，导致这个特定的实例被暂时纳入图像堆中。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:321
#, fuzzy
msgid "You can find detailed information about this `Random`/`SplittableRandom` issue in https://foivos.zakkak.net/tutorials/working-with-randoms-native-images/[this blog post]."
msgstr "你可以在 link:https://foivos.zakkak.net/tutorials/working-with-randoms-native-images/[这篇博文] 中找到关于这个 `Random` / `SplittableRandom` 问题的详细信息。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:325
#, fuzzy
msgid "In these cases, delaying the infringing class initialization at runtime might be the solution and, to achieve that, you can use the `--initialize-at-run-time=<package or class>` configuration knob."
msgstr "如果你需要延迟一个类的初始化，你可以使用 `--initialize-at-run-time=<package or class>` 配置旋钮。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:327
#, fuzzy
msgid "It should be added to the `native-image` configuration using the `quarkus.native.additional-build-args` configuration property as shown in the examples above."
msgstr "它应该使用 `quarkus.native.additional-build-args` 配置属性添加到 `native-image` 配置中，如上面的例子所示。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:331
#, fuzzy
msgid "You can find more information about all this in https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/ClassInitialization.md[the GraalVM documentation]."
msgstr "你可以在 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/ClassInitialization.md[GraalVM的文档] 中找到更多关于这一切的信息。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:337
#, fuzzy
msgid "When multiple classes or packages need to be specified via the `quarkus.native.additional-build-args` configuration property, the `,` symbol needs to be escaped.  An example of this is the following:"
msgstr "当需要通过 `quarkus.native.additional-build-args` 配置属性指定多个类或包时，需要对 `,` 符号进行转义。这方面的一个例子如下。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:341
#, no-wrap
msgid "quarkus.native.additional-build-args=--initialize-at-run-time=com.example.SomeClass\\\\,org.acme.SomeOtherClass\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:344
#, fuzzy
msgid "and in the case of using the Maven configuration instead of `application.properties`:"
msgstr "以及在使用Maven配置而不是 `application.properties` :"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:348
#, no-wrap
msgid "<quarkus.native.additional-build-args>--initialize-at-run-time=com.example.SomeClass\\,org.acme.SomeOtherClass</quarkus.native.additional-build-args>\n"
msgstr ""

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:351
#: upstream/_guides/writing-native-applications-tips.adoc:663
#, fuzzy, no-wrap
msgid "Managing Proxy Classes"
msgstr "管理代理类"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:354
#, fuzzy
msgid "While writing native application you'll need to define proxy classes at image build time by specifying the list of interfaces that they implement."
msgstr "在编写本地应用程序时，你需要在图像构建时通过指定它们实现的接口列表来定义代理类。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:356
#, fuzzy
msgid "In such a situation, the error you might encounter is:"
msgstr "在这种情况下，你可能遇到的错误是。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:360
#, no-wrap
msgid "com.oracle.svm.core.jdk.UnsupportedFeatureError: Proxy class defined by interfaces [interface org.apache.http.conn.HttpClientConnectionManager, interface org.apache.http.pool.ConnPoolControl, interface com.amazonaws.http.conn.Wrapped] not found. Generating proxy classes at runtime is not supported. Proxy classes need to be defined at image build time by specifying the list of interfaces that they implement. To define proxy classes use -H:DynamicProxyConfigurationFiles=<comma-separated-config-files> and -H:DynamicProxyConfigurationResources=<comma-separated-config-resources> options.\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:364
#, fuzzy
msgid "Solving this issue requires adding the `-H:DynamicProxyConfigurationResources=<comma-separated-config-resources>` option and to provide a dynamic proxy configuration file.  You can find all the information about the format of this file in https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/DynamicProxy.md#manual-configuration[the GraalVM documentation]."
msgstr "解决这个问题需要添加 `-H:DynamicProxyConfigurationResources=<comma-separated-config-resources>` 选项，并提供一个动态代理配置文件。你可以在 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/DynamicProxy.md#manual-configuration[GraalVM文档] 中找到关于这个文件格式的所有信息。"

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:366
#, fuzzy, no-wrap
msgid "Modularity Benefits"
msgstr "模块化的好处"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:372
#, fuzzy
msgid "During native executable build time GraalVM analyses the application's call tree and generates a code-set that includes all the code it needs.  Having a modular codebase is key to avoiding problems with unused or optional parts of your application, while at the same time reducing both native executable build times and size.  In this section you will learn about the details behind the benefits of modularity for native applications."
msgstr "在本地可执行文件的构建过程中，GraalVM会分析应用程序的调用树，并生成一个包含所有需要的代码的代码集。拥有一个模块化的代码集是避免应用程序中未使用或可选部分出现问题的关键，同时也可以减少本地可执行文件的构建时间和大小。在本节中，你将了解到本地应用程序模块化的好处背后的细节。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:386
#, fuzzy
msgid "When code is not modular enough, generated native executables can end up with more code than what the user needs.  If a feature is not used and the code gets compiled into the native executable, this is a waste of native compilation time and memory usage, as well as native executable disk space and starting heap size.  Even more problems arise when third party libraries or specialized API subsystems are used which cause native compilation or runtime errors, and their use is not modularised enough.  A recent problem can be found in the JAXB library, which is capable of deserializing XML files containing images using Java’s AWT APIs.  The vast majority of Quarkus XML users don’t need to deserialize images, so there shouldn’t be a need for users applications to include Java AWT code, unless they specifically configure Quarkus to add the JAXB AWT code to the native executable.  However, because JAXB code that uses AWT is in the same jar as the rest of the XML parsing code, achieving this separation was rather complex and required the use of Java bytecode substitutions to get around it.  These substitutions are hard to maintain and can easily break, hence they should be one's last resort."
msgstr "当代码不够模块化时，生成的本地可执行文件最终可能包含比用户需要的更多的代码。如果不使用某个功能，代码被编译到本地可执行文件中，这就浪费了本地编译时间和内存使用量，以及本地可执行文件的磁盘空间和起始堆大小。当使用第三方库或专门的API子系统导致本地编译或运行时错误，而它们的使用又没有足够的模块化时，甚至会出现更多的问题。最近的一个问题可以在JAXB库中找到，它能够使用Java的AWT APIs反序列化包含图像的XML文件。绝大多数Quarkus XML用户不需要反序列化图像，所以用户的应用程序应该不需要包括Java AWT代码，除非他们特别配置Quarkus将JAXB AWT代码添加到本地可执行文件中。然而，由于使用AWT的JAXB代码与其他的XML解析代码在同一个jar中，实现这种分离是相当复杂的，需要使用Java字节码替换来解决这个问题。这些替换很难维护，而且很容易损坏，因此它们应该是最后的手段。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:391
#, fuzzy
msgid "A modular codebase is the best way to avoid these kind of issues.  Taking the JAXB/AWT problem above, if the JAXB code that dealt with images was in a separate module or jar (e.g. `jaxb-images`), then Quarkus could choose not to include that module unless the user specifically requested the need to serialize/deserialize XML files containing images at build time."
msgstr "一个模块化的代码库是避免这类问题的最好方法。以上面的JAXB/AWT问题为例，如果处理图片的JAXB代码是在一个单独的模块或jar中（例如 `jaxb-images` ），那么Quarkus可以选择不包括这个模块，除非用户特别要求在构建时需要序列化/反序列化包含图片的XML文件。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:394
#, fuzzy
msgid "Another benefit of modular applications is that they can reduce the code-set that will need to get into the native executable.  The smaller the code-set, the faster the native executable builds will be and the smaller the native executable produced."
msgstr "模块化应用程序的另一个好处是，它们可以减少需要进入本地可执行文件的代码集。代码集越小，本地可执行文件的构建就越快，产生的本地可执行文件就越小。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:400
#, fuzzy
msgid "The key takeaway point here is the following: Keeping optional features, particularly those that depend on third party libraries or API subsystems with a big footprint, in separate modules is the best solution."
msgstr "这里的关键启发点是以下几点。将可选的功能，特别是那些依赖第三方库或API子系统的大面积的功能，放在独立的模块中是最好的解决方案。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:409
#, fuzzy
msgid "How do I know if my application suffers from similar problems? Aside from a deep study of the application, finding usages of https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html[Maven optional dependencies] is a clear indicator that your application might suffer from similar problems.  These type of dependencies should be avoided, and instead code that interacts with optional dependencies should be moved into separate modules."
msgstr "我如何知道我的应用程序是否存在类似问题？除了对应用程序进行深入研究外，发现使用 link:https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html[Maven的可选依赖] 是一个明显的指标，说明您的应用程序可能存在类似问题。应避免使用这类依赖，而应将与可选依赖交互的代码移至独立模块。"

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:411
#, fuzzy, no-wrap
msgid "Enforcing Singletons"
msgstr "强制执行单子"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:418
#, fuzzy
msgid "As already explained in the <<delay-class-init-in-your-app, delay class initialization>> section, Quarkus marks all code to be initialized at build time by default.  This means that, unless marked otherwise, static variables will be assigned at build time, and static blocks will be executed at build time too."
msgstr "正如在 link:#delay-class-init-in-your-app[延迟类初始化] 部分所解释的，Quarkus默认将所有代码在构建时进行初始化。这意味着，除非另有标记，静态变量将在构建时被分配，静态块也将在构建时执行。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:423
#, fuzzy
msgid "This can cause values in Java programs that would normally vary from one run to another, to always return a constant value.  E.g. a static field that is assigned the value of `System.currentTimeMillis()` will always return the same value when executed as a Quarkus native executable."
msgstr "这可以使Java程序中的值在不同的运行中通常是不同的，而总是返回一个常量值。例如，一个被赋值为 `System.currentTimeMillis()` 的静态字段，在作为Quarkus本地可执行文件执行时，总是返回相同的值。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:426
#, fuzzy
msgid "Singletons that rely on static variable initialization will suffer similar problems.  For example, imagine you have a singleton based around static initialization along with a REST endpoint to query it:"
msgstr "依靠静态变量初始化的单子也会遭遇类似的问题。例如，设想你有一个基于静态初始化的单子，并有一个REST端点来查询它。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:431
#: upstream/_guides/writing-native-applications-tips.adoc:472
#: upstream/_guides/writing-native-applications-tips.adoc:519
#, no-wrap
msgid ""
"@Path(\"/singletons\")\n"
"public class Singletons {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:438
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/static\")\n"
"    public long withStatic() {\n"
"        return StaticSingleton.startTime();\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:441
#, no-wrap
msgid ""
"class StaticSingleton {\n"
"    static final long START_TIME = System.currentTimeMillis();\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:446
#, no-wrap
msgid ""
"    static long startTime() {\n"
"        return START_TIME;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:451
#, fuzzy
msgid "When the `singletons/static` endpoint is queried, it will always return the same value, even after the application is restarted:"
msgstr "当 `singletons/static` 端点被查询时，它将总是返回相同的值，即使在应用程序被重新启动之后。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:456
#: upstream/_guides/writing-native-applications-tips.adoc:459
#: upstream/_guides/writing-native-applications-tips.adoc:464
#, no-wrap
msgid ""
"$ curl http://localhost:8080/singletons/static\n"
"1656509254532%\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:461
#: upstream/_guides/writing-native-applications-tips.adoc:508
#: upstream/_guides/writing-native-applications-tips.adoc:554
#, fuzzy, no-wrap
msgid "### Restart the native application ###\n"
msgstr "编写本地应用程序的提示"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:467
#, fuzzy
msgid "Singletons that rely on `enum` classes are also affected by the same issue:"
msgstr "依赖于 `enum` 类的单子也会受到同样的影响。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:479
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/enum\")\n"
"    public long withEnum() {\n"
"        return EnumSingleton.INSTANCE.startTime();\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:482
#, no-wrap
msgid ""
"enum EnumSingleton {\n"
"    INSTANCE(System.currentTimeMillis());\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:484
#, no-wrap
msgid "    private final long startTime;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:488
#, no-wrap
msgid ""
"    private EnumSingleton(long startTime) {\n"
"        this.startTime = startTime;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:493
#: upstream/_guides/writing-native-applications-tips.adoc:539
#, no-wrap
msgid ""
"    long startTime() {\n"
"        return startTime;\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:498
#, fuzzy
msgid "When the `singletons/enum` endpoint is queried, it will always return the same value, even after the application is restarted:"
msgstr "当 `singletons/enum` 端点被查询时，它将总是返回相同的值，即使在应用程序被重新启动之后。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:503
#: upstream/_guides/writing-native-applications-tips.adoc:506
#: upstream/_guides/writing-native-applications-tips.adoc:511
#, no-wrap
msgid ""
"$ curl http://localhost:8080/singletons/enum\n"
"1656509254601%\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:514
#, fuzzy
msgid "One way to fix it is to build singletons using CDI's `@Singleton` annotation:"
msgstr "解决这个问题的一个方法是使用CDI的 `@Singleton` 注释来构建单子。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:522
#, no-wrap
msgid ""
"    @Inject\n"
"    CdiSingleton cdiSingleton;\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:529
#, no-wrap
msgid ""
"    @GET\n"
"    @Path(\"/cdi\")\n"
"    public long withCdi() {\n"
"        return cdiSingleton.startTime();\n"
"    }\n"
"}\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:534
#, no-wrap
msgid ""
"@Singleton\n"
"class CdiSingleton {\n"
"    // Note that the field is not static\n"
"    final long startTime = System.currentTimeMillis();\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:544
#, fuzzy
msgid "After each restart, querying `singletons/cdi` will return a different value, just like it would in JVM mode:"
msgstr "每次重启后，查询 `singletons/cdi` ，将返回一个不同的值，就像在JVM模式下一样。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:549
#: upstream/_guides/writing-native-applications-tips.adoc:552
#, no-wrap
msgid ""
"$ curl http://localhost:8080/singletons/cdi\n"
"1656510218554%\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:557
#, no-wrap
msgid ""
"$ curl http://localhost:8080/singletons/cdi\n"
"1656510714689%\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:564
#, fuzzy
msgid "An alternative way to enforce a singleton while relying static fields, or enums, is to <<delay-class-init-in-your-app,delay its class initialization until run time>>.  The nice advantage of CDI-based singletons is that your class initialization is not constrained, so you can freely decide whether it should be build-time or run-time initialized, depending on your use case."
msgstr "在依赖静态字段或枚举的同时执行单子的另一种方法是 link:#delay-class-init-in-your-app[将其类的初始化推迟到运行时] 。基于CDI的单子的好处是，你的类的初始化不受限制，所以你可以根据你的用例，自由地决定它应该在构建时还是运行时初始化。"

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:565
#, fuzzy, no-wrap
msgid "Beware of common Java API overrides"
msgstr "谨防常见的Java API重写"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:575
#, fuzzy
msgid "Certain commonly used Java methods are overriden by user classes, e.g. `toString`, `equals`, `hashCode`...etc.  The majority of overrides do not cause problems, but if they use third party libraries (e.g. for additional formatting), or use dynamic language features (e.g. reflection or proxies), they can cause native image build to fail.  Some of those failures might be solvable via configuration, but others can be more tricky to handle."
msgstr "某些常用的Java方法被用户类重写，例如： `toString` , `equals` , `hashCode` ...等等。大多数重写不会导致问题，但如果它们使用第三方库（例如用于额外的格式化），或使用动态语言特性（例如反射或代理），它们可能导致本地图像构建失败。其中一些故障可能通过配置来解决，但其他故障可能更难处理。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:583
#, fuzzy
msgid "From a GraalVM points-to analysis perspective, what happens in these method overrides matters, even if the application does not explicitly call them.  This is because these methods are used throughout the JDK, and all it takes is for one of those calls to be done on an unconstrained type, e.g. `java.lang.Object`, for the analysis to have to pull all implementations of that particular method."
msgstr "从GraalVM点对点分析的角度来看，即使应用程序没有明确地调用这些方法，在这些方法覆盖中发生的事情也很重要。这是因为这些方法在整个JDK中都有使用，只要其中一个调用是在一个不受限制的类型上进行的，例如 `java.lang.Object` ，分析就必须提取该特定方法的所有实现。"

#. type: Title ==
#: upstream/_guides/writing-native-applications-tips.adoc:585
#, fuzzy, no-wrap
msgid "Supporting native in a Quarkus extension"
msgstr "在Quarkus扩展中支持本地"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:588
#, fuzzy
msgid "Supporting native in a Quarkus extension is even easier as Quarkus provides a lot of tools to simplify all this."
msgstr "在Quarkus扩展中支持本机更容易，因为Quarkus提供了很多工具来简化这一切。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:592
#, fuzzy
msgid "Everything described here will only work in the context of Quarkus extensions, it won't work in an application."
msgstr "这里描述的一切只在Quarkus扩展的范围内起作用，在应用程序中不会起作用。"

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:594
#, fuzzy, no-wrap
msgid "Register reflection"
msgstr "登记反思"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:597
#, fuzzy
msgid "Quarkus makes registration of reflection in an extension a breeze by using `ReflectiveClassBuildItem`, thus eliminating the need for a JSON configuration file."
msgstr "Quarkus通过使用 `ReflectiveClassBuildItem` ，使在扩展中注册反射变得轻而易举，从而消除了对JSON配置文件的需求。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:599
#, fuzzy
msgid "To register a class for reflection, one would need to create a Quarkus processor class and add a build step that registers reflection:"
msgstr "要为反射注册一个类，需要创建一个Quarkus处理器类并添加一个注册反射的构建步骤。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:603
#, no-wrap
msgid "public class SaxParserProcessor {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:609
#, no-wrap
msgid ""
"    @BuildStep\n"
"    ReflectiveClassBuildItem reflection() {\n"
"        // since we only need reflection to the constructor of the class, we can specify `false` for both the methods and the fields arguments.\n"
"        return new ReflectiveClassBuildItem(false, false, \"com.sun.org.apache.xerces.internal.parsers.SAXParser\");\n"
"    }\n"
msgstr ""

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:616
#, fuzzy
msgid "More information about reflection in GraalVM can be found https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Reflection.md[here]."
msgstr "关于GraalVM中反射的更多信息可以 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Reflection.md[在这里] 找到。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:621
#, fuzzy
msgid "In the context of an extension, Quarkus eliminates the need for a JSON configuration file by allowing extension authors to specify a `NativeImageResourceBuildItem`:"
msgstr "在扩展的背景下，Quarkus通过允许扩展作者指定一个 `NativeImageResourceBuildItem` .com，消除了对JSON配置文件的需求。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:625
#, no-wrap
msgid "public class ResourcesProcessor {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:630
#, no-wrap
msgid ""
"    @BuildStep\n"
"    NativeImageResourceBuildItem nativeImageResourceBuildItem() {\n"
"        return new NativeImageResourceBuildItem(\"META-INF/extra.properties\");\n"
"    }\n"
msgstr ""

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:637
#, fuzzy
msgid "For more information about GraalVM resource handling in native executables please refer to https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md[the GraalVM documentation]."
msgstr "关于本地可执行文件中GraalVM资源处理的更多信息，请参考 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/Resources.md[GraalVM文档] 。"

#. type: Title ==
#: upstream/_guides/writing-native-applications-tips.adoc:640
#, fuzzy, no-wrap
msgid "Delay class initialization"
msgstr "延迟类的初始化"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:643
#, fuzzy
msgid "Quarkus simplifies things by allowing extensions authors to simply register a `RuntimeInitializedClassBuildItem`. A simple example of doing so could be:"
msgstr "Quarkus通过允许扩展作者简单地注册一个 `RuntimeInitializedClassBuildItem` 来简化事情。这样做的一个简单例子是。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:647
#: upstream/_guides/writing-native-applications-tips.adoc:670
#, no-wrap
msgid "public class S3Processor {\n"
msgstr ""

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:652
#, no-wrap
msgid ""
"    @BuildStep\n"
"    RuntimeInitializedClassBuildItem cryptoConfiguration() {\n"
"        return new RuntimeInitializedClassBuildItem(CryptoConfiguration.class.getCanonicalName());\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:657
#, fuzzy
msgid "Using such a construct means that a `--initialize-at-run-time` option will automatically be added to the `native-image` command line."
msgstr "使用这样的结构意味着 `--initialize-at-run-time` 选项将被自动添加到 `native-image` 命令行中。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:661
#, fuzzy
msgid "For more information about `--initialize-at-run-time`, please read https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/ClassInitialization.md[the GraalVM documentation]."
msgstr "关于 `--initialize-at-run-time` 的更多信息，请阅读 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/ClassInitialization.md[GraalVM文档] 。"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:666
#, fuzzy
msgid "Very similarly, Quarkus allows extensions authors to register a `NativeImageProxyDefinitionBuildItem`. An example of doing so is:"
msgstr "非常相似的是，Quarkus允许扩展作者注册一个 `NativeImageProxyDefinitionBuildItem` 。这样做的一个例子是。"

#. type: delimited block -
#: upstream/_guides/writing-native-applications-tips.adoc:676
#, no-wrap
msgid ""
"    @BuildStep\n"
"    NativeImageProxyDefinitionBuildItem httpProxies() {\n"
"        return new NativeImageProxyDefinitionBuildItem(\"org.apache.http.conn.HttpClientConnectionManager\",\n"
"                \"org.apache.http.pool.ConnPoolControl\", \"com.amazonaws.http.conn.Wrapped\");\n"
"    }\n"
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:681
#, fuzzy
msgid "Using such a construct means that a `-H:DynamicProxyConfigurationResources` option will automatically be added to the `native-image` command line."
msgstr "使用这样的结构意味着 `-H:DynamicProxyConfigurationResources` 选项将被自动添加到 `native-image` 命令行中。"

#. type: delimited block =
#: upstream/_guides/writing-native-applications-tips.adoc:685
#, fuzzy
msgid "For more information about Proxy Classes you can read https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/DynamicProxy.md[the GraalVM documentation]."
msgstr "关于代理类的更多信息，你可以阅读 link:https://github.com/oracle/graal/blob/master/docs/reference-manual/native-image/DynamicProxy.md[GraalVM文档] 。"

#. type: Title ===
#: upstream/_guides/writing-native-applications-tips.adoc:687
#, fuzzy, no-wrap
msgid "Logging with Native Image"
msgstr "使用本地图像进行记录"

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:690
msgid "If you are using dependencies that require logging components such as Apache Commons Logging or Log4j and are experiencing a `ClassNotFoundException` when building the native executable, you can resolve this by excluding the logging library and adding the corresponding JBoss Logging adapter."
msgstr ""

#. type: Plain text
#: upstream/_guides/writing-native-applications-tips.adoc:691
msgid "For more details please refer to the xref:logging.adoc#logging-adapters[Logging guide]."
msgstr ""
